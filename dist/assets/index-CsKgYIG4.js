function Hc(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function Np(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function qc(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Kc={exports:{}},Pi={},Gc={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var is=Symbol.for("react.element"),Tp=Symbol.for("react.portal"),Op=Symbol.for("react.fragment"),Pp=Symbol.for("react.strict_mode"),Rp=Symbol.for("react.profiler"),Ap=Symbol.for("react.provider"),Ip=Symbol.for("react.context"),Lp=Symbol.for("react.forward_ref"),$p=Symbol.for("react.suspense"),Up=Symbol.for("react.memo"),Dp=Symbol.for("react.lazy"),Xl=Symbol.iterator;function zp(t){return t===null||typeof t!="object"?null:(t=Xl&&t[Xl]||t["@@iterator"],typeof t=="function"?t:null)}var Jc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Qc=Object.assign,Yc={};function nn(t,e,r){this.props=t,this.context=e,this.refs=Yc,this.updater=r||Jc}nn.prototype.isReactComponent={};nn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};nn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Xc(){}Xc.prototype=nn.prototype;function Ha(t,e,r){this.props=t,this.context=e,this.refs=Yc,this.updater=r||Jc}var qa=Ha.prototype=new Xc;qa.constructor=Ha;Qc(qa,nn.prototype);qa.isPureReactComponent=!0;var Zl=Array.isArray,Zc=Object.prototype.hasOwnProperty,Ka={current:null},ed={key:!0,ref:!0,__self:!0,__source:!0};function td(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Zc.call(e,n)&&!ed.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:is,type:t,key:i,ref:o,props:s,_owner:Ka.current}}function Fp(t,e){return{$$typeof:is,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ga(t){return typeof t=="object"&&t!==null&&t.$$typeof===is}function Bp(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var eu=/\/+/g;function Zi(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Bp(""+t.key):e.toString(36)}function Bs(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case is:case Tp:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+Zi(o,0):n,Zl(s)?(r="",t!=null&&(r=t.replace(eu,"$&/")+"/"),Bs(s,e,r,"",function(u){return u})):s!=null&&(Ga(s)&&(s=Fp(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(eu,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",Zl(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+Zi(i,a);o+=Bs(i,e,r,l,s)}else if(l=zp(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+Zi(i,a++),o+=Bs(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ps(t,e,r){if(t==null)return t;var n=[],s=0;return Bs(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Mp(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ee={current:null},Ms={transition:null},Vp={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:Ms,ReactCurrentOwner:Ka};function rd(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:ps,forEach:function(t,e,r){ps(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ps(t,function(){e++}),e},toArray:function(t){return ps(t,function(e){return e})||[]},only:function(t){if(!Ga(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};U.Component=nn;U.Fragment=Op;U.Profiler=Rp;U.PureComponent=Ha;U.StrictMode=Pp;U.Suspense=$p;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vp;U.act=rd;U.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Qc({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Ka.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Zc.call(e,l)&&!ed.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:is,type:t.type,key:s,ref:i,props:n,_owner:o}};U.createContext=function(t){return t={$$typeof:Ip,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ap,_context:t},t.Consumer=t};U.createElement=td;U.createFactory=function(t){var e=td.bind(null,t);return e.type=t,e};U.createRef=function(){return{current:null}};U.forwardRef=function(t){return{$$typeof:Lp,render:t}};U.isValidElement=Ga;U.lazy=function(t){return{$$typeof:Dp,_payload:{_status:-1,_result:t},_init:Mp}};U.memo=function(t,e){return{$$typeof:Up,type:t,compare:e===void 0?null:e}};U.startTransition=function(t){var e=Ms.transition;Ms.transition={};try{t()}finally{Ms.transition=e}};U.unstable_act=rd;U.useCallback=function(t,e){return Ee.current.useCallback(t,e)};U.useContext=function(t){return Ee.current.useContext(t)};U.useDebugValue=function(){};U.useDeferredValue=function(t){return Ee.current.useDeferredValue(t)};U.useEffect=function(t,e){return Ee.current.useEffect(t,e)};U.useId=function(){return Ee.current.useId()};U.useImperativeHandle=function(t,e,r){return Ee.current.useImperativeHandle(t,e,r)};U.useInsertionEffect=function(t,e){return Ee.current.useInsertionEffect(t,e)};U.useLayoutEffect=function(t,e){return Ee.current.useLayoutEffect(t,e)};U.useMemo=function(t,e){return Ee.current.useMemo(t,e)};U.useReducer=function(t,e,r){return Ee.current.useReducer(t,e,r)};U.useRef=function(t){return Ee.current.useRef(t)};U.useState=function(t){return Ee.current.useState(t)};U.useSyncExternalStore=function(t,e,r){return Ee.current.useSyncExternalStore(t,e,r)};U.useTransition=function(){return Ee.current.useTransition()};U.version="18.3.1";Gc.exports=U;var S=Gc.exports;const nd=Np(S),Wp=Hc({__proto__:null,default:nd},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp=S,qp=Symbol.for("react.element"),Kp=Symbol.for("react.fragment"),Gp=Object.prototype.hasOwnProperty,Jp=Hp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qp={key:!0,ref:!0,__self:!0,__source:!0};function sd(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Gp.call(e,n)&&!Qp.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:qp,type:t,key:i,ref:o,props:s,_owner:Jp.current}}Pi.Fragment=Kp;Pi.jsx=sd;Pi.jsxs=sd;Kc.exports=Pi;var c=Kc.exports,id={exports:{}},ze={},od={exports:{}},ad={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,L){var $=N.length;N.push(L);e:for(;0<$;){var ee=$-1>>>1,le=N[ee];if(0<s(le,L))N[ee]=L,N[$]=le,$=ee;else break e}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var L=N[0],$=N.pop();if($!==L){N[0]=$;e:for(var ee=0,le=N.length,hs=le>>>1;ee<hs;){var Gt=2*(ee+1)-1,Xi=N[Gt],Jt=Gt+1,fs=N[Jt];if(0>s(Xi,$))Jt<le&&0>s(fs,Xi)?(N[ee]=fs,N[Jt]=$,ee=Jt):(N[ee]=Xi,N[Gt]=$,ee=Gt);else if(Jt<le&&0>s(fs,$))N[ee]=fs,N[Jt]=$,ee=Jt;else break e}}return L}function s(N,L){var $=N.sortIndex-L.sortIndex;return $!==0?$:N.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,v=!1,w=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(N){for(var L=r(u);L!==null;){if(L.callback===null)n(u);else if(L.startTime<=N)n(u),L.sortIndex=L.expirationTime,e(l,L);else break;L=r(u)}}function _(N){if(y=!1,g(N),!w)if(r(l)!==null)w=!0,X(E);else{var L=r(u);L!==null&&me(_,L.startTime-N)}}function E(N,L){w=!1,y&&(y=!1,m(j),j=-1),v=!0;var $=f;try{for(g(L),h=r(l);h!==null&&(!(h.expirationTime>L)||N&&!z());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,f=h.priorityLevel;var le=ee(h.expirationTime<=L);L=t.unstable_now(),typeof le=="function"?h.callback=le:h===r(l)&&n(l),g(L)}else n(l);h=r(l)}if(h!==null)var hs=!0;else{var Gt=r(u);Gt!==null&&me(_,Gt.startTime-L),hs=!1}return hs}finally{h=null,f=$,v=!1}}var b=!1,k=null,j=-1,O=5,R=-1;function z(){return!(t.unstable_now()-R<O)}function de(){if(k!==null){var N=t.unstable_now();R=N;var L=!0;try{L=k(!0,N)}finally{L?W():(b=!1,k=null)}}else b=!1}var W;if(typeof p=="function")W=function(){p(de)};else if(typeof MessageChannel<"u"){var Ke=new MessageChannel,xe=Ke.port2;Ke.port1.onmessage=de,W=function(){xe.postMessage(null)}}else W=function(){x(de,0)};function X(N){k=N,b||(b=!0,W())}function me(N,L){j=x(function(){N(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,X(E))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var $=f;f=L;try{return N()}finally{f=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,L){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var $=f;f=N;try{return L()}finally{f=$}},t.unstable_scheduleCallback=function(N,L,$){var ee=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ee+$:ee):$=ee,N){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=$+le,N={id:d++,callback:L,priorityLevel:N,startTime:$,expirationTime:le,sortIndex:-1},$>ee?(N.sortIndex=$,e(u,N),r(l)===null&&N===r(u)&&(y?(m(j),j=-1):y=!0,me(_,$-ee))):(N.sortIndex=le,e(l,N),w||v||(w=!0,X(E))),N},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(N){var L=f;return function(){var $=f;f=L;try{return N.apply(this,arguments)}finally{f=$}}}})(ad);od.exports=ad;var Yp=od.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp=S,De=Yp;function C(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ld=new Set,Un={};function pr(t,e){Gr(t,e),Gr(t+"Capture",e)}function Gr(t,e){for(Un[t]=e,t=0;t<e.length;t++)ld.add(e[t])}var vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uo=Object.prototype.hasOwnProperty,Zp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tu={},ru={};function em(t){return Uo.call(ru,t)?!0:Uo.call(tu,t)?!1:Zp.test(t)?ru[t]=!0:(tu[t]=!0,!1)}function tm(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function rm(t,e,r,n){if(e===null||typeof e>"u"||tm(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function je(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pe[t]=new je(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pe[e]=new je(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pe[t]=new je(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pe[t]=new je(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pe[t]=new je(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pe[t]=new je(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pe[t]=new je(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pe[t]=new je(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pe[t]=new je(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ja=/[\-:]([a-z])/g;function Qa(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ja,Qa);pe[e]=new je(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ja,Qa);pe[e]=new je(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ja,Qa);pe[e]=new je(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pe[t]=new je(t,1,!1,t.toLowerCase(),null,!1,!1)});pe.xlinkHref=new je("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pe[t]=new je(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ya(t,e,r,n){var s=pe.hasOwnProperty(e)?pe[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(rm(e,r,s,n)&&(r=null),n||s===null?em(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var _t=Xp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ms=Symbol.for("react.element"),Tr=Symbol.for("react.portal"),Or=Symbol.for("react.fragment"),Xa=Symbol.for("react.strict_mode"),Do=Symbol.for("react.profiler"),ud=Symbol.for("react.provider"),cd=Symbol.for("react.context"),Za=Symbol.for("react.forward_ref"),zo=Symbol.for("react.suspense"),Fo=Symbol.for("react.suspense_list"),el=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),dd=Symbol.for("react.offscreen"),nu=Symbol.iterator;function dn(t){return t===null||typeof t!="object"?null:(t=nu&&t[nu]||t["@@iterator"],typeof t=="function"?t:null)}var Y=Object.assign,eo;function wn(t){if(eo===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);eo=e&&e[1]||""}return`
`+eo+t}var to=!1;function ro(t,e){if(!t||to)return"";to=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{to=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?wn(t):""}function nm(t){switch(t.tag){case 5:return wn(t.type);case 16:return wn("Lazy");case 13:return wn("Suspense");case 19:return wn("SuspenseList");case 0:case 2:case 15:return t=ro(t.type,!1),t;case 11:return t=ro(t.type.render,!1),t;case 1:return t=ro(t.type,!0),t;default:return""}}function Bo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Or:return"Fragment";case Tr:return"Portal";case Do:return"Profiler";case Xa:return"StrictMode";case zo:return"Suspense";case Fo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case cd:return(t.displayName||"Context")+".Consumer";case ud:return(t._context.displayName||"Context")+".Provider";case Za:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case el:return e=t.displayName||null,e!==null?e:Bo(t.type)||"Memo";case kt:e=t._payload,t=t._init;try{return Bo(t(e))}catch{}}return null}function sm(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bo(e);case 8:return e===Xa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Bt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function im(t){var e=hd(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gs(t){t._valueTracker||(t._valueTracker=im(t))}function fd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=hd(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Zs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Mo(t,e){var r=e.checked;return Y({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function su(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Bt(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function pd(t,e){e=e.checked,e!=null&&Ya(t,"checked",e,!1)}function Vo(t,e){pd(t,e);var r=Bt(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Wo(t,e.type,r):e.hasOwnProperty("defaultValue")&&Wo(t,e.type,Bt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function iu(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Wo(t,e,r){(e!=="number"||Zs(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var xn=Array.isArray;function Br(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Bt(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ho(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(C(91));return Y({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ou(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(C(92));if(xn(r)){if(1<r.length)throw Error(C(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Bt(r)}}function md(t,e){var r=Bt(e.value),n=Bt(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function au(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function gd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?gd(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vs,vd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vs=vs||document.createElement("div"),vs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Dn(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var kn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},om=["Webkit","ms","Moz","O"];Object.keys(kn).forEach(function(t){om.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),kn[e]=kn[t]})});function yd(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||kn.hasOwnProperty(t)&&kn[t]?(""+e).trim():e+"px"}function wd(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=yd(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var am=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ko(t,e){if(e){if(am[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(C(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(C(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(C(61))}if(e.style!=null&&typeof e.style!="object")throw Error(C(62))}}function Go(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jo=null;function tl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qo=null,Mr=null,Vr=null;function lu(t){if(t=ls(t)){if(typeof Qo!="function")throw Error(C(280));var e=t.stateNode;e&&(e=$i(e),Qo(t.stateNode,t.type,e))}}function xd(t){Mr?Vr?Vr.push(t):Vr=[t]:Mr=t}function _d(){if(Mr){var t=Mr,e=Vr;if(Vr=Mr=null,lu(t),e)for(t=0;t<e.length;t++)lu(e[t])}}function bd(t,e){return t(e)}function Sd(){}var no=!1;function kd(t,e,r){if(no)return t(e,r);no=!0;try{return bd(t,e,r)}finally{no=!1,(Mr!==null||Vr!==null)&&(Sd(),_d())}}function zn(t,e){var r=t.stateNode;if(r===null)return null;var n=$i(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(C(231,e,typeof r));return r}var Yo=!1;if(vt)try{var hn={};Object.defineProperty(hn,"passive",{get:function(){Yo=!0}}),window.addEventListener("test",hn,hn),window.removeEventListener("test",hn,hn)}catch{Yo=!1}function lm(t,e,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var En=!1,ei=null,ti=!1,Xo=null,um={onError:function(t){En=!0,ei=t}};function cm(t,e,r,n,s,i,o,a,l){En=!1,ei=null,lm.apply(um,arguments)}function dm(t,e,r,n,s,i,o,a,l){if(cm.apply(this,arguments),En){if(En){var u=ei;En=!1,ei=null}else throw Error(C(198));ti||(ti=!0,Xo=u)}}function mr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Ed(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function uu(t){if(mr(t)!==t)throw Error(C(188))}function hm(t){var e=t.alternate;if(!e){if(e=mr(t),e===null)throw Error(C(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return uu(s),t;if(i===n)return uu(s),e;i=i.sibling}throw Error(C(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(C(189))}}if(r.alternate!==n)throw Error(C(190))}if(r.tag!==3)throw Error(C(188));return r.stateNode.current===r?t:e}function jd(t){return t=hm(t),t!==null?Cd(t):null}function Cd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Cd(t);if(e!==null)return e;t=t.sibling}return null}var Nd=De.unstable_scheduleCallback,cu=De.unstable_cancelCallback,fm=De.unstable_shouldYield,pm=De.unstable_requestPaint,te=De.unstable_now,mm=De.unstable_getCurrentPriorityLevel,rl=De.unstable_ImmediatePriority,Td=De.unstable_UserBlockingPriority,ri=De.unstable_NormalPriority,gm=De.unstable_LowPriority,Od=De.unstable_IdlePriority,Ri=null,ut=null;function vm(t){if(ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(Ri,t,void 0,(t.current.flags&128)===128)}catch{}}var rt=Math.clz32?Math.clz32:xm,ym=Math.log,wm=Math.LN2;function xm(t){return t>>>=0,t===0?32:31-(ym(t)/wm|0)|0}var ys=64,ws=4194304;function _n(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ni(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=_n(a):(i&=o,i!==0&&(n=_n(i)))}else o=r&~s,o!==0?n=_n(o):i!==0&&(n=_n(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-rt(e),s=1<<r,n|=t[r],e&=~s;return n}function _m(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bm(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-rt(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=_m(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Zo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Pd(){var t=ys;return ys<<=1,!(ys&4194240)&&(ys=64),t}function so(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function os(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-rt(e),t[e]=r}function Sm(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-rt(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function nl(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-rt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var B=0;function Rd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ad,sl,Id,Ld,$d,ea=!1,xs=[],Rt=null,At=null,It=null,Fn=new Map,Bn=new Map,jt=[],km="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function du(t,e){switch(t){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Fn.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bn.delete(e.pointerId)}}function fn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ls(e),e!==null&&sl(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Em(t,e,r,n,s){switch(e){case"focusin":return Rt=fn(Rt,t,e,r,n,s),!0;case"dragenter":return At=fn(At,t,e,r,n,s),!0;case"mouseover":return It=fn(It,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Fn.set(i,fn(Fn.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Bn.set(i,fn(Bn.get(i)||null,t,e,r,n,s)),!0}return!1}function Ud(t){var e=nr(t.target);if(e!==null){var r=mr(e);if(r!==null){if(e=r.tag,e===13){if(e=Ed(r),e!==null){t.blockedOn=e,$d(t.priority,function(){Id(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=ta(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Jo=n,r.target.dispatchEvent(n),Jo=null}else return e=ls(r),e!==null&&sl(e),t.blockedOn=r,!1;e.shift()}return!0}function hu(t,e,r){Vs(t)&&r.delete(e)}function jm(){ea=!1,Rt!==null&&Vs(Rt)&&(Rt=null),At!==null&&Vs(At)&&(At=null),It!==null&&Vs(It)&&(It=null),Fn.forEach(hu),Bn.forEach(hu)}function pn(t,e){t.blockedOn===e&&(t.blockedOn=null,ea||(ea=!0,De.unstable_scheduleCallback(De.unstable_NormalPriority,jm)))}function Mn(t){function e(s){return pn(s,t)}if(0<xs.length){pn(xs[0],t);for(var r=1;r<xs.length;r++){var n=xs[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Rt!==null&&pn(Rt,t),At!==null&&pn(At,t),It!==null&&pn(It,t),Fn.forEach(e),Bn.forEach(e),r=0;r<jt.length;r++)n=jt[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<jt.length&&(r=jt[0],r.blockedOn===null);)Ud(r),r.blockedOn===null&&jt.shift()}var Wr=_t.ReactCurrentBatchConfig,si=!0;function Cm(t,e,r,n){var s=B,i=Wr.transition;Wr.transition=null;try{B=1,il(t,e,r,n)}finally{B=s,Wr.transition=i}}function Nm(t,e,r,n){var s=B,i=Wr.transition;Wr.transition=null;try{B=4,il(t,e,r,n)}finally{B=s,Wr.transition=i}}function il(t,e,r,n){if(si){var s=ta(t,e,r,n);if(s===null)mo(t,e,n,ii,r),du(t,n);else if(Em(s,t,e,r,n))n.stopPropagation();else if(du(t,n),e&4&&-1<km.indexOf(t)){for(;s!==null;){var i=ls(s);if(i!==null&&Ad(i),i=ta(t,e,r,n),i===null&&mo(t,e,n,ii,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else mo(t,e,n,null,r)}}var ii=null;function ta(t,e,r,n){if(ii=null,t=tl(n),t=nr(t),t!==null)if(e=mr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Ed(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ii=t,null}function Dd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mm()){case rl:return 1;case Td:return 4;case ri:case gm:return 16;case Od:return 536870912;default:return 16}default:return 16}}var Tt=null,ol=null,Ws=null;function zd(){if(Ws)return Ws;var t,e=ol,r=e.length,n,s="value"in Tt?Tt.value:Tt.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Ws=s.slice(t,1<n?1-n:void 0)}function Hs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _s(){return!0}function fu(){return!1}function Fe(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?_s:fu,this.isPropagationStopped=fu,this}return Y(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),e}var sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},al=Fe(sn),as=Y({},sn,{view:0,detail:0}),Tm=Fe(as),io,oo,mn,Ai=Y({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ll,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mn&&(mn&&t.type==="mousemove"?(io=t.screenX-mn.screenX,oo=t.screenY-mn.screenY):oo=io=0,mn=t),io)},movementY:function(t){return"movementY"in t?t.movementY:oo}}),pu=Fe(Ai),Om=Y({},Ai,{dataTransfer:0}),Pm=Fe(Om),Rm=Y({},as,{relatedTarget:0}),ao=Fe(Rm),Am=Y({},sn,{animationName:0,elapsedTime:0,pseudoElement:0}),Im=Fe(Am),Lm=Y({},sn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$m=Fe(Lm),Um=Y({},sn,{data:0}),mu=Fe(Um),Dm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bm(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Fm[t])?!!e[t]:!1}function ll(){return Bm}var Mm=Y({},as,{key:function(t){if(t.key){var e=Dm[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zm[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ll,charCode:function(t){return t.type==="keypress"?Hs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Vm=Fe(Mm),Wm=Y({},Ai,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gu=Fe(Wm),Hm=Y({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ll}),qm=Fe(Hm),Km=Y({},sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gm=Fe(Km),Jm=Y({},Ai,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Qm=Fe(Jm),Ym=[9,13,27,32],ul=vt&&"CompositionEvent"in window,jn=null;vt&&"documentMode"in document&&(jn=document.documentMode);var Xm=vt&&"TextEvent"in window&&!jn,Fd=vt&&(!ul||jn&&8<jn&&11>=jn),vu=" ",yu=!1;function Bd(t,e){switch(t){case"keyup":return Ym.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Md(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pr=!1;function Zm(t,e){switch(t){case"compositionend":return Md(e);case"keypress":return e.which!==32?null:(yu=!0,vu);case"textInput":return t=e.data,t===vu&&yu?null:t;default:return null}}function eg(t,e){if(Pr)return t==="compositionend"||!ul&&Bd(t,e)?(t=zd(),Ws=ol=Tt=null,Pr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Fd&&e.locale!=="ko"?null:e.data;default:return null}}var tg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tg[t.type]:e==="textarea"}function Vd(t,e,r,n){xd(n),e=oi(e,"onChange"),0<e.length&&(r=new al("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Cn=null,Vn=null;function rg(t){eh(t,0)}function Ii(t){var e=Ir(t);if(fd(e))return t}function ng(t,e){if(t==="change")return e}var Wd=!1;if(vt){var lo;if(vt){var uo="oninput"in document;if(!uo){var xu=document.createElement("div");xu.setAttribute("oninput","return;"),uo=typeof xu.oninput=="function"}lo=uo}else lo=!1;Wd=lo&&(!document.documentMode||9<document.documentMode)}function _u(){Cn&&(Cn.detachEvent("onpropertychange",Hd),Vn=Cn=null)}function Hd(t){if(t.propertyName==="value"&&Ii(Vn)){var e=[];Vd(e,Vn,t,tl(t)),kd(rg,e)}}function sg(t,e,r){t==="focusin"?(_u(),Cn=e,Vn=r,Cn.attachEvent("onpropertychange",Hd)):t==="focusout"&&_u()}function ig(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ii(Vn)}function og(t,e){if(t==="click")return Ii(e)}function ag(t,e){if(t==="input"||t==="change")return Ii(e)}function lg(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var st=typeof Object.is=="function"?Object.is:lg;function Wn(t,e){if(st(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Uo.call(e,s)||!st(t[s],e[s]))return!1}return!0}function bu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Su(t,e){var r=bu(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=bu(r)}}function qd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?qd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Kd(){for(var t=window,e=Zs();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Zs(t.document)}return e}function cl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ug(t){var e=Kd(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&qd(r.ownerDocument.documentElement,r)){if(n!==null&&cl(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Su(r,i);var o=Su(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var cg=vt&&"documentMode"in document&&11>=document.documentMode,Rr=null,ra=null,Nn=null,na=!1;function ku(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;na||Rr==null||Rr!==Zs(n)||(n=Rr,"selectionStart"in n&&cl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Nn&&Wn(Nn,n)||(Nn=n,n=oi(ra,"onSelect"),0<n.length&&(e=new al("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Rr)))}function bs(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ar={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionend:bs("Transition","TransitionEnd")},co={},Gd={};vt&&(Gd=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);function Li(t){if(co[t])return co[t];if(!Ar[t])return t;var e=Ar[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Gd)return co[t]=e[r];return t}var Jd=Li("animationend"),Qd=Li("animationiteration"),Yd=Li("animationstart"),Xd=Li("transitionend"),Zd=new Map,Eu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wt(t,e){Zd.set(t,e),pr(e,[t])}for(var ho=0;ho<Eu.length;ho++){var fo=Eu[ho],dg=fo.toLowerCase(),hg=fo[0].toUpperCase()+fo.slice(1);Wt(dg,"on"+hg)}Wt(Jd,"onAnimationEnd");Wt(Qd,"onAnimationIteration");Wt(Yd,"onAnimationStart");Wt("dblclick","onDoubleClick");Wt("focusin","onFocus");Wt("focusout","onBlur");Wt(Xd,"onTransitionEnd");Gr("onMouseEnter",["mouseout","mouseover"]);Gr("onMouseLeave",["mouseout","mouseover"]);Gr("onPointerEnter",["pointerout","pointerover"]);Gr("onPointerLeave",["pointerout","pointerover"]);pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fg=new Set("cancel close invalid load scroll toggle".split(" ").concat(bn));function ju(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,dm(n,e,void 0,t),t.currentTarget=null}function eh(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;ju(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;ju(s,a,u),i=l}}}if(ti)throw t=Xo,ti=!1,Xo=null,t}function H(t,e){var r=e[la];r===void 0&&(r=e[la]=new Set);var n=t+"__bubble";r.has(n)||(th(e,t,2,!1),r.add(n))}function po(t,e,r){var n=0;e&&(n|=4),th(r,t,n,e)}var Ss="_reactListening"+Math.random().toString(36).slice(2);function Hn(t){if(!t[Ss]){t[Ss]=!0,ld.forEach(function(r){r!=="selectionchange"&&(fg.has(r)||po(r,!1,t),po(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ss]||(e[Ss]=!0,po("selectionchange",!1,e))}}function th(t,e,r,n){switch(Dd(e)){case 1:var s=Cm;break;case 4:s=Nm;break;default:s=il}r=s.bind(null,e,r,t),s=void 0,!Yo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function mo(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=nr(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}kd(function(){var u=i,d=tl(r),h=[];e:{var f=Zd.get(t);if(f!==void 0){var v=al,w=t;switch(t){case"keypress":if(Hs(r)===0)break e;case"keydown":case"keyup":v=Vm;break;case"focusin":w="focus",v=ao;break;case"focusout":w="blur",v=ao;break;case"beforeblur":case"afterblur":v=ao;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=pu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Pm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=qm;break;case Jd:case Qd:case Yd:v=Im;break;case Xd:v=Gm;break;case"scroll":v=Tm;break;case"wheel":v=Qm;break;case"copy":case"cut":case"paste":v=$m;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=gu}var y=(e&4)!==0,x=!y&&t==="scroll",m=y?f!==null?f+"Capture":null:f;y=[];for(var p=u,g;p!==null;){g=p;var _=g.stateNode;if(g.tag===5&&_!==null&&(g=_,m!==null&&(_=zn(p,m),_!=null&&y.push(qn(p,_,g)))),x)break;p=p.return}0<y.length&&(f=new v(f,w,null,r,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&r!==Jo&&(w=r.relatedTarget||r.fromElement)&&(nr(w)||w[yt]))break e;if((v||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,v?(w=r.relatedTarget||r.toElement,v=u,w=w?nr(w):null,w!==null&&(x=mr(w),w!==x||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=u),v!==w)){if(y=pu,_="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(y=gu,_="onPointerLeave",m="onPointerEnter",p="pointer"),x=v==null?f:Ir(v),g=w==null?f:Ir(w),f=new y(_,p+"leave",v,r,d),f.target=x,f.relatedTarget=g,_=null,nr(d)===u&&(y=new y(m,p+"enter",w,r,d),y.target=g,y.relatedTarget=x,_=y),x=_,v&&w)t:{for(y=v,m=w,p=0,g=y;g;g=_r(g))p++;for(g=0,_=m;_;_=_r(_))g++;for(;0<p-g;)y=_r(y),p--;for(;0<g-p;)m=_r(m),g--;for(;p--;){if(y===m||m!==null&&y===m.alternate)break t;y=_r(y),m=_r(m)}y=null}else y=null;v!==null&&Cu(h,f,v,y,!1),w!==null&&x!==null&&Cu(h,x,w,y,!0)}}e:{if(f=u?Ir(u):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var E=ng;else if(wu(f))if(Wd)E=ag;else{E=ig;var b=sg}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=og);if(E&&(E=E(t,u))){Vd(h,E,r,d);break e}b&&b(t,f,u),t==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&Wo(f,"number",f.value)}switch(b=u?Ir(u):window,t){case"focusin":(wu(b)||b.contentEditable==="true")&&(Rr=b,ra=u,Nn=null);break;case"focusout":Nn=ra=Rr=null;break;case"mousedown":na=!0;break;case"contextmenu":case"mouseup":case"dragend":na=!1,ku(h,r,d);break;case"selectionchange":if(cg)break;case"keydown":case"keyup":ku(h,r,d)}var k;if(ul)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Pr?Bd(t,r)&&(j="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(Fd&&r.locale!=="ko"&&(Pr||j!=="onCompositionStart"?j==="onCompositionEnd"&&Pr&&(k=zd()):(Tt=d,ol="value"in Tt?Tt.value:Tt.textContent,Pr=!0)),b=oi(u,j),0<b.length&&(j=new mu(j,t,null,r,d),h.push({event:j,listeners:b}),k?j.data=k:(k=Md(r),k!==null&&(j.data=k)))),(k=Xm?Zm(t,r):eg(t,r))&&(u=oi(u,"onBeforeInput"),0<u.length&&(d=new mu("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=k))}eh(h,e)})}function qn(t,e,r){return{instance:t,listener:e,currentTarget:r}}function oi(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=zn(t,r),i!=null&&n.unshift(qn(t,i,s)),i=zn(t,e),i!=null&&n.push(qn(t,i,s))),t=t.return}return n}function _r(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Cu(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=zn(r,i),l!=null&&o.unshift(qn(r,l,a))):s||(l=zn(r,i),l!=null&&o.push(qn(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var pg=/\r\n?/g,mg=/\u0000|\uFFFD/g;function Nu(t){return(typeof t=="string"?t:""+t).replace(pg,`
`).replace(mg,"")}function ks(t,e,r){if(e=Nu(e),Nu(t)!==e&&r)throw Error(C(425))}function ai(){}var sa=null,ia=null;function oa(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var aa=typeof setTimeout=="function"?setTimeout:void 0,gg=typeof clearTimeout=="function"?clearTimeout:void 0,Tu=typeof Promise=="function"?Promise:void 0,vg=typeof queueMicrotask=="function"?queueMicrotask:typeof Tu<"u"?function(t){return Tu.resolve(null).then(t).catch(yg)}:aa;function yg(t){setTimeout(function(){throw t})}function go(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Mn(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Mn(e)}function Lt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ou(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var on=Math.random().toString(36).slice(2),lt="__reactFiber$"+on,Kn="__reactProps$"+on,yt="__reactContainer$"+on,la="__reactEvents$"+on,wg="__reactListeners$"+on,xg="__reactHandles$"+on;function nr(t){var e=t[lt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[yt]||r[lt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Ou(t);t!==null;){if(r=t[lt])return r;t=Ou(t)}return e}t=r,r=t.parentNode}return null}function ls(t){return t=t[lt]||t[yt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ir(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(C(33))}function $i(t){return t[Kn]||null}var ua=[],Lr=-1;function Ht(t){return{current:t}}function q(t){0>Lr||(t.current=ua[Lr],ua[Lr]=null,Lr--)}function V(t,e){Lr++,ua[Lr]=t.current,t.current=e}var Mt={},we=Ht(Mt),Te=Ht(!1),ur=Mt;function Jr(t,e){var r=t.type.contextTypes;if(!r)return Mt;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Oe(t){return t=t.childContextTypes,t!=null}function li(){q(Te),q(we)}function Pu(t,e,r){if(we.current!==Mt)throw Error(C(168));V(we,e),V(Te,r)}function rh(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(C(108,sm(t)||"Unknown",s));return Y({},r,n)}function ui(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mt,ur=we.current,V(we,t),V(Te,Te.current),!0}function Ru(t,e,r){var n=t.stateNode;if(!n)throw Error(C(169));r?(t=rh(t,e,ur),n.__reactInternalMemoizedMergedChildContext=t,q(Te),q(we),V(we,t)):q(Te),V(Te,r)}var ft=null,Ui=!1,vo=!1;function nh(t){ft===null?ft=[t]:ft.push(t)}function _g(t){Ui=!0,nh(t)}function qt(){if(!vo&&ft!==null){vo=!0;var t=0,e=B;try{var r=ft;for(B=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ft=null,Ui=!1}catch(s){throw ft!==null&&(ft=ft.slice(t+1)),Nd(rl,qt),s}finally{B=e,vo=!1}}return null}var $r=[],Ur=0,ci=null,di=0,Be=[],Me=0,cr=null,pt=1,mt="";function Xt(t,e){$r[Ur++]=di,$r[Ur++]=ci,ci=t,di=e}function sh(t,e,r){Be[Me++]=pt,Be[Me++]=mt,Be[Me++]=cr,cr=t;var n=pt;t=mt;var s=32-rt(n)-1;n&=~(1<<s),r+=1;var i=32-rt(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,pt=1<<32-rt(e)+s|r<<s|n,mt=i+t}else pt=1<<i|r<<s|n,mt=t}function dl(t){t.return!==null&&(Xt(t,1),sh(t,1,0))}function hl(t){for(;t===ci;)ci=$r[--Ur],$r[Ur]=null,di=$r[--Ur],$r[Ur]=null;for(;t===cr;)cr=Be[--Me],Be[Me]=null,mt=Be[--Me],Be[Me]=null,pt=Be[--Me],Be[Me]=null}var Ue=null,$e=null,K=!1,tt=null;function ih(t,e){var r=Ve(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Au(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ue=t,$e=Lt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ue=t,$e=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=cr!==null?{id:pt,overflow:mt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ve(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ue=t,$e=null,!0):!1;default:return!1}}function ca(t){return(t.mode&1)!==0&&(t.flags&128)===0}function da(t){if(K){var e=$e;if(e){var r=e;if(!Au(t,e)){if(ca(t))throw Error(C(418));e=Lt(r.nextSibling);var n=Ue;e&&Au(t,e)?ih(n,r):(t.flags=t.flags&-4097|2,K=!1,Ue=t)}}else{if(ca(t))throw Error(C(418));t.flags=t.flags&-4097|2,K=!1,Ue=t}}}function Iu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ue=t}function Es(t){if(t!==Ue)return!1;if(!K)return Iu(t),K=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!oa(t.type,t.memoizedProps)),e&&(e=$e)){if(ca(t))throw oh(),Error(C(418));for(;e;)ih(t,e),e=Lt(e.nextSibling)}if(Iu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){$e=Lt(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}$e=null}}else $e=Ue?Lt(t.stateNode.nextSibling):null;return!0}function oh(){for(var t=$e;t;)t=Lt(t.nextSibling)}function Qr(){$e=Ue=null,K=!1}function fl(t){tt===null?tt=[t]:tt.push(t)}var bg=_t.ReactCurrentBatchConfig;function gn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(C(309));var n=r.stateNode}if(!n)throw Error(C(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(C(284));if(!r._owner)throw Error(C(290,t))}return t}function js(t,e){throw t=Object.prototype.toString.call(e),Error(C(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Lu(t){var e=t._init;return e(t._payload)}function ah(t){function e(m,p){if(t){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function r(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function n(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=zt(m,p),m.index=0,m.sibling=null,m}function i(m,p,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,p,g,_){return p===null||p.tag!==6?(p=ko(g,m.mode,_),p.return=m,p):(p=s(p,g),p.return=m,p)}function l(m,p,g,_){var E=g.type;return E===Or?d(m,p,g.props.children,_,g.key):p!==null&&(p.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===kt&&Lu(E)===p.type)?(_=s(p,g.props),_.ref=gn(m,p,g),_.return=m,_):(_=Xs(g.type,g.key,g.props,null,m.mode,_),_.ref=gn(m,p,g),_.return=m,_)}function u(m,p,g,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Eo(g,m.mode,_),p.return=m,p):(p=s(p,g.children||[]),p.return=m,p)}function d(m,p,g,_,E){return p===null||p.tag!==7?(p=lr(g,m.mode,_,E),p.return=m,p):(p=s(p,g),p.return=m,p)}function h(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=ko(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ms:return g=Xs(p.type,p.key,p.props,null,m.mode,g),g.ref=gn(m,null,p),g.return=m,g;case Tr:return p=Eo(p,m.mode,g),p.return=m,p;case kt:var _=p._init;return h(m,_(p._payload),g)}if(xn(p)||dn(p))return p=lr(p,m.mode,g,null),p.return=m,p;js(m,p)}return null}function f(m,p,g,_){var E=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return E!==null?null:a(m,p,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ms:return g.key===E?l(m,p,g,_):null;case Tr:return g.key===E?u(m,p,g,_):null;case kt:return E=g._init,f(m,p,E(g._payload),_)}if(xn(g)||dn(g))return E!==null?null:d(m,p,g,_,null);js(m,g)}return null}function v(m,p,g,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(g)||null,a(p,m,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ms:return m=m.get(_.key===null?g:_.key)||null,l(p,m,_,E);case Tr:return m=m.get(_.key===null?g:_.key)||null,u(p,m,_,E);case kt:var b=_._init;return v(m,p,g,b(_._payload),E)}if(xn(_)||dn(_))return m=m.get(g)||null,d(p,m,_,E,null);js(p,_)}return null}function w(m,p,g,_){for(var E=null,b=null,k=p,j=p=0,O=null;k!==null&&j<g.length;j++){k.index>j?(O=k,k=null):O=k.sibling;var R=f(m,k,g[j],_);if(R===null){k===null&&(k=O);break}t&&k&&R.alternate===null&&e(m,k),p=i(R,p,j),b===null?E=R:b.sibling=R,b=R,k=O}if(j===g.length)return r(m,k),K&&Xt(m,j),E;if(k===null){for(;j<g.length;j++)k=h(m,g[j],_),k!==null&&(p=i(k,p,j),b===null?E=k:b.sibling=k,b=k);return K&&Xt(m,j),E}for(k=n(m,k);j<g.length;j++)O=v(k,m,j,g[j],_),O!==null&&(t&&O.alternate!==null&&k.delete(O.key===null?j:O.key),p=i(O,p,j),b===null?E=O:b.sibling=O,b=O);return t&&k.forEach(function(z){return e(m,z)}),K&&Xt(m,j),E}function y(m,p,g,_){var E=dn(g);if(typeof E!="function")throw Error(C(150));if(g=E.call(g),g==null)throw Error(C(151));for(var b=E=null,k=p,j=p=0,O=null,R=g.next();k!==null&&!R.done;j++,R=g.next()){k.index>j?(O=k,k=null):O=k.sibling;var z=f(m,k,R.value,_);if(z===null){k===null&&(k=O);break}t&&k&&z.alternate===null&&e(m,k),p=i(z,p,j),b===null?E=z:b.sibling=z,b=z,k=O}if(R.done)return r(m,k),K&&Xt(m,j),E;if(k===null){for(;!R.done;j++,R=g.next())R=h(m,R.value,_),R!==null&&(p=i(R,p,j),b===null?E=R:b.sibling=R,b=R);return K&&Xt(m,j),E}for(k=n(m,k);!R.done;j++,R=g.next())R=v(k,m,j,R.value,_),R!==null&&(t&&R.alternate!==null&&k.delete(R.key===null?j:R.key),p=i(R,p,j),b===null?E=R:b.sibling=R,b=R);return t&&k.forEach(function(de){return e(m,de)}),K&&Xt(m,j),E}function x(m,p,g,_){if(typeof g=="object"&&g!==null&&g.type===Or&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ms:e:{for(var E=g.key,b=p;b!==null;){if(b.key===E){if(E=g.type,E===Or){if(b.tag===7){r(m,b.sibling),p=s(b,g.props.children),p.return=m,m=p;break e}}else if(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===kt&&Lu(E)===b.type){r(m,b.sibling),p=s(b,g.props),p.ref=gn(m,b,g),p.return=m,m=p;break e}r(m,b);break}else e(m,b);b=b.sibling}g.type===Or?(p=lr(g.props.children,m.mode,_,g.key),p.return=m,m=p):(_=Xs(g.type,g.key,g.props,null,m.mode,_),_.ref=gn(m,p,g),_.return=m,m=_)}return o(m);case Tr:e:{for(b=g.key;p!==null;){if(p.key===b)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){r(m,p.sibling),p=s(p,g.children||[]),p.return=m,m=p;break e}else{r(m,p);break}else e(m,p);p=p.sibling}p=Eo(g,m.mode,_),p.return=m,m=p}return o(m);case kt:return b=g._init,x(m,p,b(g._payload),_)}if(xn(g))return w(m,p,g,_);if(dn(g))return y(m,p,g,_);js(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(r(m,p.sibling),p=s(p,g),p.return=m,m=p):(r(m,p),p=ko(g,m.mode,_),p.return=m,m=p),o(m)):r(m,p)}return x}var Yr=ah(!0),lh=ah(!1),hi=Ht(null),fi=null,Dr=null,pl=null;function ml(){pl=Dr=fi=null}function gl(t){var e=hi.current;q(hi),t._currentValue=e}function ha(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Hr(t,e){fi=t,pl=Dr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ne=!0),t.firstContext=null)}function He(t){var e=t._currentValue;if(pl!==t)if(t={context:t,memoizedValue:e,next:null},Dr===null){if(fi===null)throw Error(C(308));Dr=t,fi.dependencies={lanes:0,firstContext:t}}else Dr=Dr.next=t;return e}var sr=null;function vl(t){sr===null?sr=[t]:sr.push(t)}function uh(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,vl(e)):(r.next=s.next,s.next=r),e.interleaved=r,wt(t,n)}function wt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Et=!1;function yl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ch(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $t(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,D&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,wt(t,r)}return s=n.interleaved,s===null?(e.next=e,vl(n)):(e.next=s.next,s.next=e),n.interleaved=e,wt(t,r)}function qs(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,nl(t,r)}}function $u(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function pi(t,e,r,n){var s=t.updateQueue;Et=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,v=a.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,y=a;switch(f=e,v=r,y.tag){case 1:if(w=y.payload,typeof w=="function"){h=w.call(v,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,f=typeof w=="function"?w.call(v,h,f):w,f==null)break e;h=Y({},h,f);break e;case 2:Et=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else v={eventTime:v,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=v,l=h):d=d.next=v,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);hr|=o,t.lanes=o,t.memoizedState=h}}function Uu(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(C(191,s));s.call(n)}}}var us={},ct=Ht(us),Gn=Ht(us),Jn=Ht(us);function ir(t){if(t===us)throw Error(C(174));return t}function wl(t,e){switch(V(Jn,e),V(Gn,t),V(ct,us),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=qo(e,t)}q(ct),V(ct,e)}function Xr(){q(ct),q(Gn),q(Jn)}function dh(t){ir(Jn.current);var e=ir(ct.current),r=qo(e,t.type);e!==r&&(V(Gn,t),V(ct,r))}function xl(t){Gn.current===t&&(q(ct),q(Gn))}var J=Ht(0);function mi(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yo=[];function _l(){for(var t=0;t<yo.length;t++)yo[t]._workInProgressVersionPrimary=null;yo.length=0}var Ks=_t.ReactCurrentDispatcher,wo=_t.ReactCurrentBatchConfig,dr=0,Q=null,oe=null,ue=null,gi=!1,Tn=!1,Qn=0,Sg=0;function ge(){throw Error(C(321))}function bl(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!st(t[r],e[r]))return!1;return!0}function Sl(t,e,r,n,s,i){if(dr=i,Q=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ks.current=t===null||t.memoizedState===null?Cg:Ng,t=r(n,s),Tn){i=0;do{if(Tn=!1,Qn=0,25<=i)throw Error(C(301));i+=1,ue=oe=null,e.updateQueue=null,Ks.current=Tg,t=r(n,s)}while(Tn)}if(Ks.current=vi,e=oe!==null&&oe.next!==null,dr=0,ue=oe=Q=null,gi=!1,e)throw Error(C(300));return t}function kl(){var t=Qn!==0;return Qn=0,t}function at(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?Q.memoizedState=ue=t:ue=ue.next=t,ue}function qe(){if(oe===null){var t=Q.alternate;t=t!==null?t.memoizedState:null}else t=oe.next;var e=ue===null?Q.memoizedState:ue.next;if(e!==null)ue=e,oe=t;else{if(t===null)throw Error(C(310));oe=t,t={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},ue===null?Q.memoizedState=ue=t:ue=ue.next=t}return ue}function Yn(t,e){return typeof e=="function"?e(t):e}function xo(t){var e=qe(),r=e.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=t;var n=oe,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((dr&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,Q.lanes|=d,hr|=d}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,st(n,e.memoizedState)||(Ne=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,Q.lanes|=i,hr|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function _o(t){var e=qe(),r=e.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);st(i,e.memoizedState)||(Ne=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function hh(){}function fh(t,e){var r=Q,n=qe(),s=e(),i=!st(n.memoizedState,s);if(i&&(n.memoizedState=s,Ne=!0),n=n.queue,El(gh.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||ue!==null&&ue.memoizedState.tag&1){if(r.flags|=2048,Xn(9,mh.bind(null,r,n,s,e),void 0,null),ce===null)throw Error(C(349));dr&30||ph(r,e,s)}return s}function ph(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Q.updateQueue,e===null?(e={lastEffect:null,stores:null},Q.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function mh(t,e,r,n){e.value=r,e.getSnapshot=n,vh(e)&&yh(t)}function gh(t,e,r){return r(function(){vh(e)&&yh(t)})}function vh(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!st(t,r)}catch{return!0}}function yh(t){var e=wt(t,1);e!==null&&nt(e,t,1,-1)}function Du(t){var e=at();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:t},e.queue=t,t=t.dispatch=jg.bind(null,Q,t),[e.memoizedState,t]}function Xn(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Q.updateQueue,e===null?(e={lastEffect:null,stores:null},Q.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function wh(){return qe().memoizedState}function Gs(t,e,r,n){var s=at();Q.flags|=t,s.memoizedState=Xn(1|e,r,void 0,n===void 0?null:n)}function Di(t,e,r,n){var s=qe();n=n===void 0?null:n;var i=void 0;if(oe!==null){var o=oe.memoizedState;if(i=o.destroy,n!==null&&bl(n,o.deps)){s.memoizedState=Xn(e,r,i,n);return}}Q.flags|=t,s.memoizedState=Xn(1|e,r,i,n)}function zu(t,e){return Gs(8390656,8,t,e)}function El(t,e){return Di(2048,8,t,e)}function xh(t,e){return Di(4,2,t,e)}function _h(t,e){return Di(4,4,t,e)}function bh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Sh(t,e,r){return r=r!=null?r.concat([t]):null,Di(4,4,bh.bind(null,e,t),r)}function jl(){}function kh(t,e){var r=qe();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&bl(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Eh(t,e){var r=qe();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&bl(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function jh(t,e,r){return dr&21?(st(r,e)||(r=Pd(),Q.lanes|=r,hr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ne=!0),t.memoizedState=r)}function kg(t,e){var r=B;B=r!==0&&4>r?r:4,t(!0);var n=wo.transition;wo.transition={};try{t(!1),e()}finally{B=r,wo.transition=n}}function Ch(){return qe().memoizedState}function Eg(t,e,r){var n=Dt(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Nh(t))Th(e,r);else if(r=uh(t,e,r,n),r!==null){var s=ke();nt(r,t,n,s),Oh(r,e,n)}}function jg(t,e,r){var n=Dt(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Nh(t))Th(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,st(a,o)){var l=e.interleaved;l===null?(s.next=s,vl(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=uh(t,e,s,n),r!==null&&(s=ke(),nt(r,t,n,s),Oh(r,e,n))}}function Nh(t){var e=t.alternate;return t===Q||e!==null&&e===Q}function Th(t,e){Tn=gi=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Oh(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,nl(t,r)}}var vi={readContext:He,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useInsertionEffect:ge,useLayoutEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useMutableSource:ge,useSyncExternalStore:ge,useId:ge,unstable_isNewReconciler:!1},Cg={readContext:He,useCallback:function(t,e){return at().memoizedState=[t,e===void 0?null:e],t},useContext:He,useEffect:zu,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Gs(4194308,4,bh.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Gs(4194308,4,t,e)},useInsertionEffect:function(t,e){return Gs(4,2,t,e)},useMemo:function(t,e){var r=at();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=at();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Eg.bind(null,Q,t),[n.memoizedState,t]},useRef:function(t){var e=at();return t={current:t},e.memoizedState=t},useState:Du,useDebugValue:jl,useDeferredValue:function(t){return at().memoizedState=t},useTransition:function(){var t=Du(!1),e=t[0];return t=kg.bind(null,t[1]),at().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Q,s=at();if(K){if(r===void 0)throw Error(C(407));r=r()}else{if(r=e(),ce===null)throw Error(C(349));dr&30||ph(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,zu(gh.bind(null,n,i,t),[t]),n.flags|=2048,Xn(9,mh.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=at(),e=ce.identifierPrefix;if(K){var r=mt,n=pt;r=(n&~(1<<32-rt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Qn++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Sg++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ng={readContext:He,useCallback:kh,useContext:He,useEffect:El,useImperativeHandle:Sh,useInsertionEffect:xh,useLayoutEffect:_h,useMemo:Eh,useReducer:xo,useRef:wh,useState:function(){return xo(Yn)},useDebugValue:jl,useDeferredValue:function(t){var e=qe();return jh(e,oe.memoizedState,t)},useTransition:function(){var t=xo(Yn)[0],e=qe().memoizedState;return[t,e]},useMutableSource:hh,useSyncExternalStore:fh,useId:Ch,unstable_isNewReconciler:!1},Tg={readContext:He,useCallback:kh,useContext:He,useEffect:El,useImperativeHandle:Sh,useInsertionEffect:xh,useLayoutEffect:_h,useMemo:Eh,useReducer:_o,useRef:wh,useState:function(){return _o(Yn)},useDebugValue:jl,useDeferredValue:function(t){var e=qe();return oe===null?e.memoizedState=t:jh(e,oe.memoizedState,t)},useTransition:function(){var t=_o(Yn)[0],e=qe().memoizedState;return[t,e]},useMutableSource:hh,useSyncExternalStore:fh,useId:Ch,unstable_isNewReconciler:!1};function Ye(t,e){if(t&&t.defaultProps){e=Y({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function fa(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Y({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var zi={isMounted:function(t){return(t=t._reactInternals)?mr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ke(),s=Dt(t),i=gt(n,s);i.payload=e,r!=null&&(i.callback=r),e=$t(t,i,s),e!==null&&(nt(e,t,s,n),qs(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ke(),s=Dt(t),i=gt(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=$t(t,i,s),e!==null&&(nt(e,t,s,n),qs(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ke(),n=Dt(t),s=gt(r,n);s.tag=2,e!=null&&(s.callback=e),e=$t(t,s,n),e!==null&&(nt(e,t,n,r),qs(e,t,n))}};function Fu(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Wn(r,n)||!Wn(s,i):!0}function Ph(t,e,r){var n=!1,s=Mt,i=e.contextType;return typeof i=="object"&&i!==null?i=He(i):(s=Oe(e)?ur:we.current,n=e.contextTypes,i=(n=n!=null)?Jr(t,s):Mt),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zi,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Bu(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&zi.enqueueReplaceState(e,e.state,null)}function pa(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},yl(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=He(i):(i=Oe(e)?ur:we.current,s.context=Jr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(fa(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&zi.enqueueReplaceState(s,s.state,null),pi(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Zr(t,e){try{var r="",n=e;do r+=nm(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function bo(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function ma(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Og=typeof WeakMap=="function"?WeakMap:Map;function Rh(t,e,r){r=gt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){wi||(wi=!0,Ea=n),ma(t,e)},r}function Ah(t,e,r){r=gt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){ma(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){ma(t,e),typeof n!="function"&&(Ut===null?Ut=new Set([this]):Ut.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Mu(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Og;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Wg.bind(null,t,e,r),e.then(t,t))}function Vu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Wu(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=gt(-1,1),e.tag=2,$t(r,e,1))),r.lanes|=1),t)}var Pg=_t.ReactCurrentOwner,Ne=!1;function be(t,e,r,n){e.child=t===null?lh(e,null,r,n):Yr(e,t.child,r,n)}function Hu(t,e,r,n,s){r=r.render;var i=e.ref;return Hr(e,s),n=Sl(t,e,r,n,i,s),r=kl(),t!==null&&!Ne?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,xt(t,e,s)):(K&&r&&dl(e),e.flags|=1,be(t,e,n,s),e.child)}function qu(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Il(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Ih(t,e,i,n,s)):(t=Xs(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Wn,r(o,n)&&t.ref===e.ref)return xt(t,e,s)}return e.flags|=1,t=zt(i,n),t.ref=e.ref,t.return=e,e.child=t}function Ih(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Wn(i,n)&&t.ref===e.ref)if(Ne=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Ne=!0);else return e.lanes=t.lanes,xt(t,e,s)}return ga(t,e,r,n,s)}function Lh(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},V(Fr,Ae),Ae|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,V(Fr,Ae),Ae|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,V(Fr,Ae),Ae|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,V(Fr,Ae),Ae|=n;return be(t,e,s,r),e.child}function $h(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function ga(t,e,r,n,s){var i=Oe(r)?ur:we.current;return i=Jr(e,i),Hr(e,s),r=Sl(t,e,r,n,i,s),n=kl(),t!==null&&!Ne?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,xt(t,e,s)):(K&&n&&dl(e),e.flags|=1,be(t,e,r,s),e.child)}function Ku(t,e,r,n,s){if(Oe(r)){var i=!0;ui(e)}else i=!1;if(Hr(e,s),e.stateNode===null)Js(t,e),Ph(e,r,n),pa(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=He(u):(u=Oe(r)?ur:we.current,u=Jr(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&Bu(e,o,n,u),Et=!1;var f=e.memoizedState;o.state=f,pi(e,n,o,s),l=e.memoizedState,a!==n||f!==l||Te.current||Et?(typeof d=="function"&&(fa(e,r,d,n),l=e.memoizedState),(a=Et||Fu(e,r,a,n,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,ch(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ye(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=He(l):(l=Oe(r)?ur:we.current,l=Jr(e,l));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Bu(e,o,n,l),Et=!1,f=e.memoizedState,o.state=f,pi(e,n,o,s);var w=e.memoizedState;a!==h||f!==w||Te.current||Et?(typeof v=="function"&&(fa(e,r,v,n),w=e.memoizedState),(u=Et||Fu(e,r,u,n,f,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=w),o.props=n,o.state=w,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return va(t,e,r,n,i,s)}function va(t,e,r,n,s,i){$h(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&Ru(e,r,!1),xt(t,e,i);n=e.stateNode,Pg.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Yr(e,t.child,null,i),e.child=Yr(e,null,a,i)):be(t,e,a,i),e.memoizedState=n.state,s&&Ru(e,r,!0),e.child}function Uh(t){var e=t.stateNode;e.pendingContext?Pu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Pu(t,e.context,!1),wl(t,e.containerInfo)}function Gu(t,e,r,n,s){return Qr(),fl(s),e.flags|=256,be(t,e,r,n),e.child}var ya={dehydrated:null,treeContext:null,retryLane:0};function wa(t){return{baseLanes:t,cachePool:null,transitions:null}}function Dh(t,e,r){var n=e.pendingProps,s=J.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),V(J,s&1),t===null)return da(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Mi(o,n,0,null),t=lr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=wa(r),e.memoizedState=ya,t):Cl(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Rg(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=zt(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=zt(a,i):(i=lr(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?wa(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=ya,n}return i=t.child,t=i.sibling,n=zt(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Cl(t,e){return e=Mi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Cs(t,e,r,n){return n!==null&&fl(n),Yr(e,t.child,null,r),t=Cl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Rg(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=bo(Error(C(422))),Cs(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Mi({mode:"visible",children:n.children},s,0,null),i=lr(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Yr(e,t.child,null,o),e.child.memoizedState=wa(o),e.memoizedState=ya,i);if(!(e.mode&1))return Cs(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(C(419)),n=bo(i,n,void 0),Cs(t,e,o,n)}if(a=(o&t.childLanes)!==0,Ne||a){if(n=ce,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,wt(t,s),nt(n,t,s,-1))}return Al(),n=bo(Error(C(421))),Cs(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Hg.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,$e=Lt(s.nextSibling),Ue=e,K=!0,tt=null,t!==null&&(Be[Me++]=pt,Be[Me++]=mt,Be[Me++]=cr,pt=t.id,mt=t.overflow,cr=e),e=Cl(e,n.children),e.flags|=4096,e)}function Ju(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),ha(t.return,e,r)}function So(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function zh(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(be(t,e,n.children,r),n=J.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ju(t,r,e);else if(t.tag===19)Ju(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(V(J,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&mi(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),So(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&mi(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}So(e,!0,r,null,i);break;case"together":So(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Js(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),hr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(C(153));if(e.child!==null){for(t=e.child,r=zt(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=zt(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Ag(t,e,r){switch(e.tag){case 3:Uh(e),Qr();break;case 5:dh(e);break;case 1:Oe(e.type)&&ui(e);break;case 4:wl(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;V(hi,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(V(J,J.current&1),e.flags|=128,null):r&e.child.childLanes?Dh(t,e,r):(V(J,J.current&1),t=xt(t,e,r),t!==null?t.sibling:null);V(J,J.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return zh(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),V(J,J.current),n)break;return null;case 22:case 23:return e.lanes=0,Lh(t,e,r)}return xt(t,e,r)}var Fh,xa,Bh,Mh;Fh=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};xa=function(){};Bh=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,ir(ct.current);var i=null;switch(r){case"input":s=Mo(t,s),n=Mo(t,n),i=[];break;case"select":s=Y({},s,{value:void 0}),n=Y({},n,{value:void 0}),i=[];break;case"textarea":s=Ho(t,s),n=Ho(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ai)}Ko(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Un.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Un.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&H("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Mh=function(t,e,r,n){r!==n&&(e.flags|=4)};function vn(t,e){if(!K)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ve(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Ig(t,e,r){var n=e.pendingProps;switch(hl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(e),null;case 1:return Oe(e.type)&&li(),ve(e),null;case 3:return n=e.stateNode,Xr(),q(Te),q(we),_l(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Es(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,tt!==null&&(Na(tt),tt=null))),xa(t,e),ve(e),null;case 5:xl(e);var s=ir(Jn.current);if(r=e.type,t!==null&&e.stateNode!=null)Bh(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(C(166));return ve(e),null}if(t=ir(ct.current),Es(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[lt]=e,n[Kn]=i,t=(e.mode&1)!==0,r){case"dialog":H("cancel",n),H("close",n);break;case"iframe":case"object":case"embed":H("load",n);break;case"video":case"audio":for(s=0;s<bn.length;s++)H(bn[s],n);break;case"source":H("error",n);break;case"img":case"image":case"link":H("error",n),H("load",n);break;case"details":H("toggle",n);break;case"input":su(n,i),H("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},H("invalid",n);break;case"textarea":ou(n,i),H("invalid",n)}Ko(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&ks(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ks(n.textContent,a,t),s=["children",""+a]):Un.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&H("scroll",n)}switch(r){case"input":gs(n),iu(n,i,!0);break;case"textarea":gs(n),au(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ai)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=gd(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[lt]=e,t[Kn]=n,Fh(t,e,!1,!1),e.stateNode=t;e:{switch(o=Go(r,n),r){case"dialog":H("cancel",t),H("close",t),s=n;break;case"iframe":case"object":case"embed":H("load",t),s=n;break;case"video":case"audio":for(s=0;s<bn.length;s++)H(bn[s],t);s=n;break;case"source":H("error",t),s=n;break;case"img":case"image":case"link":H("error",t),H("load",t),s=n;break;case"details":H("toggle",t),s=n;break;case"input":su(t,n),s=Mo(t,n),H("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Y({},n,{value:void 0}),H("invalid",t);break;case"textarea":ou(t,n),s=Ho(t,n),H("invalid",t);break;default:s=n}Ko(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?wd(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&vd(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Dn(t,l):typeof l=="number"&&Dn(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Un.hasOwnProperty(i)?l!=null&&i==="onScroll"&&H("scroll",t):l!=null&&Ya(t,i,l,o))}switch(r){case"input":gs(t),iu(t,n,!1);break;case"textarea":gs(t),au(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Bt(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Br(t,!!n.multiple,i,!1):n.defaultValue!=null&&Br(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ai)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ve(e),null;case 6:if(t&&e.stateNode!=null)Mh(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(C(166));if(r=ir(Jn.current),ir(ct.current),Es(e)){if(n=e.stateNode,r=e.memoizedProps,n[lt]=e,(i=n.nodeValue!==r)&&(t=Ue,t!==null))switch(t.tag){case 3:ks(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ks(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[lt]=e,e.stateNode=n}return ve(e),null;case 13:if(q(J),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(K&&$e!==null&&e.mode&1&&!(e.flags&128))oh(),Qr(),e.flags|=98560,i=!1;else if(i=Es(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(C(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[lt]=e}else Qr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ve(e),i=!1}else tt!==null&&(Na(tt),tt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||J.current&1?ae===0&&(ae=3):Al())),e.updateQueue!==null&&(e.flags|=4),ve(e),null);case 4:return Xr(),xa(t,e),t===null&&Hn(e.stateNode.containerInfo),ve(e),null;case 10:return gl(e.type._context),ve(e),null;case 17:return Oe(e.type)&&li(),ve(e),null;case 19:if(q(J),i=e.memoizedState,i===null)return ve(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)vn(i,!1);else{if(ae!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=mi(t),o!==null){for(e.flags|=128,vn(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return V(J,J.current&1|2),e.child}t=t.sibling}i.tail!==null&&te()>en&&(e.flags|=128,n=!0,vn(i,!1),e.lanes=4194304)}else{if(!n)if(t=mi(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),vn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!K)return ve(e),null}else 2*te()-i.renderingStartTime>en&&r!==1073741824&&(e.flags|=128,n=!0,vn(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=te(),e.sibling=null,r=J.current,V(J,n?r&1|2:r&1),e):(ve(e),null);case 22:case 23:return Rl(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ae&1073741824&&(ve(e),e.subtreeFlags&6&&(e.flags|=8192)):ve(e),null;case 24:return null;case 25:return null}throw Error(C(156,e.tag))}function Lg(t,e){switch(hl(e),e.tag){case 1:return Oe(e.type)&&li(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xr(),q(Te),q(we),_l(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xl(e),null;case 13:if(q(J),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(C(340));Qr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return q(J),null;case 4:return Xr(),null;case 10:return gl(e.type._context),null;case 22:case 23:return Rl(),null;case 24:return null;default:return null}}var Ns=!1,ye=!1,$g=typeof WeakSet=="function"?WeakSet:Set,T=null;function zr(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Z(t,e,n)}else r.current=null}function _a(t,e,r){try{r()}catch(n){Z(t,e,n)}}var Qu=!1;function Ug(t,e){if(sa=si,t=Kd(),cl(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var v;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===t)break t;if(f===r&&++u===s&&(a=o),f===i&&++d===n&&(l=o),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(ia={focusedElem:t,selectionRange:r},si=!1,T=e;T!==null;)if(e=T,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,T=t;else for(;T!==null;){e=T;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,x=w.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:Ye(e.type,y),x);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(_){Z(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,T=t;break}T=e.return}return w=Qu,Qu=!1,w}function On(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&_a(e,r,i)}s=s.next}while(s!==n)}}function Fi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function ba(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Vh(t){var e=t.alternate;e!==null&&(t.alternate=null,Vh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[lt],delete e[Kn],delete e[la],delete e[wg],delete e[xg])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Wh(t){return t.tag===5||t.tag===3||t.tag===4}function Yu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Wh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sa(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ai));else if(n!==4&&(t=t.child,t!==null))for(Sa(t,e,r),t=t.sibling;t!==null;)Sa(t,e,r),t=t.sibling}function ka(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(ka(t,e,r),t=t.sibling;t!==null;)ka(t,e,r),t=t.sibling}var he=null,Ze=!1;function bt(t,e,r){for(r=r.child;r!==null;)Hh(t,e,r),r=r.sibling}function Hh(t,e,r){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(Ri,r)}catch{}switch(r.tag){case 5:ye||zr(r,e);case 6:var n=he,s=Ze;he=null,bt(t,e,r),he=n,Ze=s,he!==null&&(Ze?(t=he,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):he.removeChild(r.stateNode));break;case 18:he!==null&&(Ze?(t=he,r=r.stateNode,t.nodeType===8?go(t.parentNode,r):t.nodeType===1&&go(t,r),Mn(t)):go(he,r.stateNode));break;case 4:n=he,s=Ze,he=r.stateNode.containerInfo,Ze=!0,bt(t,e,r),he=n,Ze=s;break;case 0:case 11:case 14:case 15:if(!ye&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&_a(r,e,o),s=s.next}while(s!==n)}bt(t,e,r);break;case 1:if(!ye&&(zr(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Z(r,e,a)}bt(t,e,r);break;case 21:bt(t,e,r);break;case 22:r.mode&1?(ye=(n=ye)||r.memoizedState!==null,bt(t,e,r),ye=n):bt(t,e,r);break;default:bt(t,e,r)}}function Xu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new $g),e.forEach(function(n){var s=qg.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ge(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:he=a.stateNode,Ze=!1;break e;case 3:he=a.stateNode.containerInfo,Ze=!0;break e;case 4:he=a.stateNode.containerInfo,Ze=!0;break e}a=a.return}if(he===null)throw Error(C(160));Hh(i,o,s),he=null,Ze=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Z(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qh(e,t),e=e.sibling}function qh(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ge(e,t),ot(t),n&4){try{On(3,t,t.return),Fi(3,t)}catch(y){Z(t,t.return,y)}try{On(5,t,t.return)}catch(y){Z(t,t.return,y)}}break;case 1:Ge(e,t),ot(t),n&512&&r!==null&&zr(r,r.return);break;case 5:if(Ge(e,t),ot(t),n&512&&r!==null&&zr(r,r.return),t.flags&32){var s=t.stateNode;try{Dn(s,"")}catch(y){Z(t,t.return,y)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&pd(s,i),Go(a,o);var u=Go(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?wd(s,h):d==="dangerouslySetInnerHTML"?vd(s,h):d==="children"?Dn(s,h):Ya(s,d,h,u)}switch(a){case"input":Vo(s,i);break;case"textarea":md(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Br(s,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?Br(s,!!i.multiple,i.defaultValue,!0):Br(s,!!i.multiple,i.multiple?[]:"",!1))}s[Kn]=i}catch(y){Z(t,t.return,y)}}break;case 6:if(Ge(e,t),ot(t),n&4){if(t.stateNode===null)throw Error(C(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){Z(t,t.return,y)}}break;case 3:if(Ge(e,t),ot(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Mn(e.containerInfo)}catch(y){Z(t,t.return,y)}break;case 4:Ge(e,t),ot(t);break;case 13:Ge(e,t),ot(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ol=te())),n&4&&Xu(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(ye=(u=ye)||d,Ge(e,t),ye=u):Ge(e,t),ot(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(T=t,d=t.child;d!==null;){for(h=T=d;T!==null;){switch(f=T,v=f.child,f.tag){case 0:case 11:case 14:case 15:On(4,f,f.return);break;case 1:zr(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(y){Z(n,r,y)}}break;case 5:zr(f,f.return);break;case 22:if(f.memoizedState!==null){ec(h);continue}}v!==null?(v.return=f,T=v):ec(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=yd("display",o))}catch(y){Z(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){Z(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ge(e,t),ot(t),n&4&&Xu(t);break;case 21:break;default:Ge(e,t),ot(t)}}function ot(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Wh(r)){var n=r;break e}r=r.return}throw Error(C(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Dn(s,""),n.flags&=-33);var i=Yu(t);ka(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Yu(t);Sa(t,a,o);break;default:throw Error(C(161))}}catch(l){Z(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Dg(t,e,r){T=t,Kh(t)}function Kh(t,e,r){for(var n=(t.mode&1)!==0;T!==null;){var s=T,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Ns;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ye;a=Ns;var u=ye;if(Ns=o,(ye=l)&&!u)for(T=s;T!==null;)o=T,l=o.child,o.tag===22&&o.memoizedState!==null?tc(s):l!==null?(l.return=o,T=l):tc(s);for(;i!==null;)T=i,Kh(i),i=i.sibling;T=s,Ns=a,ye=u}Zu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,T=i):Zu(t)}}function Zu(t){for(;T!==null;){var e=T;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ye||Fi(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ye)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Ye(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Uu(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Uu(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Mn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}ye||e.flags&512&&ba(e)}catch(f){Z(e,e.return,f)}}if(e===t){T=null;break}if(r=e.sibling,r!==null){r.return=e.return,T=r;break}T=e.return}}function ec(t){for(;T!==null;){var e=T;if(e===t){T=null;break}var r=e.sibling;if(r!==null){r.return=e.return,T=r;break}T=e.return}}function tc(t){for(;T!==null;){var e=T;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Fi(4,e)}catch(l){Z(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){Z(e,s,l)}}var i=e.return;try{ba(e)}catch(l){Z(e,i,l)}break;case 5:var o=e.return;try{ba(e)}catch(l){Z(e,o,l)}}}catch(l){Z(e,e.return,l)}if(e===t){T=null;break}var a=e.sibling;if(a!==null){a.return=e.return,T=a;break}T=e.return}}var zg=Math.ceil,yi=_t.ReactCurrentDispatcher,Nl=_t.ReactCurrentOwner,We=_t.ReactCurrentBatchConfig,D=0,ce=null,ne=null,fe=0,Ae=0,Fr=Ht(0),ae=0,Zn=null,hr=0,Bi=0,Tl=0,Pn=null,Ce=null,Ol=0,en=1/0,dt=null,wi=!1,Ea=null,Ut=null,Ts=!1,Ot=null,xi=0,Rn=0,ja=null,Qs=-1,Ys=0;function ke(){return D&6?te():Qs!==-1?Qs:Qs=te()}function Dt(t){return t.mode&1?D&2&&fe!==0?fe&-fe:bg.transition!==null?(Ys===0&&(Ys=Pd()),Ys):(t=B,t!==0||(t=window.event,t=t===void 0?16:Dd(t.type)),t):1}function nt(t,e,r,n){if(50<Rn)throw Rn=0,ja=null,Error(C(185));os(t,r,n),(!(D&2)||t!==ce)&&(t===ce&&(!(D&2)&&(Bi|=r),ae===4&&Ct(t,fe)),Pe(t,n),r===1&&D===0&&!(e.mode&1)&&(en=te()+500,Ui&&qt()))}function Pe(t,e){var r=t.callbackNode;bm(t,e);var n=ni(t,t===ce?fe:0);if(n===0)r!==null&&cu(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&cu(r),e===1)t.tag===0?_g(rc.bind(null,t)):nh(rc.bind(null,t)),vg(function(){!(D&6)&&qt()}),r=null;else{switch(Rd(n)){case 1:r=rl;break;case 4:r=Td;break;case 16:r=ri;break;case 536870912:r=Od;break;default:r=ri}r=tf(r,Gh.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Gh(t,e){if(Qs=-1,Ys=0,D&6)throw Error(C(327));var r=t.callbackNode;if(qr()&&t.callbackNode!==r)return null;var n=ni(t,t===ce?fe:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=_i(t,n);else{e=n;var s=D;D|=2;var i=Qh();(ce!==t||fe!==e)&&(dt=null,en=te()+500,ar(t,e));do try{Mg();break}catch(a){Jh(t,a)}while(!0);ml(),yi.current=i,D=s,ne!==null?e=0:(ce=null,fe=0,e=ae)}if(e!==0){if(e===2&&(s=Zo(t),s!==0&&(n=s,e=Ca(t,s))),e===1)throw r=Zn,ar(t,0),Ct(t,n),Pe(t,te()),r;if(e===6)Ct(t,n);else{if(s=t.current.alternate,!(n&30)&&!Fg(s)&&(e=_i(t,n),e===2&&(i=Zo(t),i!==0&&(n=i,e=Ca(t,i))),e===1))throw r=Zn,ar(t,0),Ct(t,n),Pe(t,te()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(C(345));case 2:Zt(t,Ce,dt);break;case 3:if(Ct(t,n),(n&130023424)===n&&(e=Ol+500-te(),10<e)){if(ni(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){ke(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=aa(Zt.bind(null,t,Ce,dt),e);break}Zt(t,Ce,dt);break;case 4:if(Ct(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-rt(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=te()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*zg(n/1960))-n,10<n){t.timeoutHandle=aa(Zt.bind(null,t,Ce,dt),n);break}Zt(t,Ce,dt);break;case 5:Zt(t,Ce,dt);break;default:throw Error(C(329))}}}return Pe(t,te()),t.callbackNode===r?Gh.bind(null,t):null}function Ca(t,e){var r=Pn;return t.current.memoizedState.isDehydrated&&(ar(t,e).flags|=256),t=_i(t,e),t!==2&&(e=Ce,Ce=r,e!==null&&Na(e)),t}function Na(t){Ce===null?Ce=t:Ce.push.apply(Ce,t)}function Fg(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!st(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ct(t,e){for(e&=~Tl,e&=~Bi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-rt(e),n=1<<r;t[r]=-1,e&=~n}}function rc(t){if(D&6)throw Error(C(327));qr();var e=ni(t,0);if(!(e&1))return Pe(t,te()),null;var r=_i(t,e);if(t.tag!==0&&r===2){var n=Zo(t);n!==0&&(e=n,r=Ca(t,n))}if(r===1)throw r=Zn,ar(t,0),Ct(t,e),Pe(t,te()),r;if(r===6)throw Error(C(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zt(t,Ce,dt),Pe(t,te()),null}function Pl(t,e){var r=D;D|=1;try{return t(e)}finally{D=r,D===0&&(en=te()+500,Ui&&qt())}}function fr(t){Ot!==null&&Ot.tag===0&&!(D&6)&&qr();var e=D;D|=1;var r=We.transition,n=B;try{if(We.transition=null,B=1,t)return t()}finally{B=n,We.transition=r,D=e,!(D&6)&&qt()}}function Rl(){Ae=Fr.current,q(Fr)}function ar(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,gg(r)),ne!==null)for(r=ne.return;r!==null;){var n=r;switch(hl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&li();break;case 3:Xr(),q(Te),q(we),_l();break;case 5:xl(n);break;case 4:Xr();break;case 13:q(J);break;case 19:q(J);break;case 10:gl(n.type._context);break;case 22:case 23:Rl()}r=r.return}if(ce=t,ne=t=zt(t.current,null),fe=Ae=e,ae=0,Zn=null,Tl=Bi=hr=0,Ce=Pn=null,sr!==null){for(e=0;e<sr.length;e++)if(r=sr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}sr=null}return t}function Jh(t,e){do{var r=ne;try{if(ml(),Ks.current=vi,gi){for(var n=Q.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}gi=!1}if(dr=0,ue=oe=Q=null,Tn=!1,Qn=0,Nl.current=null,r===null||r.return===null){ae=1,Zn=e,ne=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=fe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Vu(o);if(v!==null){v.flags&=-257,Wu(v,o,a,i,e),v.mode&1&&Mu(i,u,e),e=v,l=u;var w=e.updateQueue;if(w===null){var y=new Set;y.add(l),e.updateQueue=y}else w.add(l);break e}else{if(!(e&1)){Mu(i,u,e),Al();break e}l=Error(C(426))}}else if(K&&a.mode&1){var x=Vu(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Wu(x,o,a,i,e),fl(Zr(l,a));break e}}i=l=Zr(l,a),ae!==4&&(ae=2),Pn===null?Pn=[i]:Pn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=Rh(i,l,e);$u(i,m);break e;case 1:a=l;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ut===null||!Ut.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=Ah(i,a,e);$u(i,_);break e}}i=i.return}while(i!==null)}Xh(r)}catch(E){e=E,ne===r&&r!==null&&(ne=r=r.return);continue}break}while(!0)}function Qh(){var t=yi.current;return yi.current=vi,t===null?vi:t}function Al(){(ae===0||ae===3||ae===2)&&(ae=4),ce===null||!(hr&268435455)&&!(Bi&268435455)||Ct(ce,fe)}function _i(t,e){var r=D;D|=2;var n=Qh();(ce!==t||fe!==e)&&(dt=null,ar(t,e));do try{Bg();break}catch(s){Jh(t,s)}while(!0);if(ml(),D=r,yi.current=n,ne!==null)throw Error(C(261));return ce=null,fe=0,ae}function Bg(){for(;ne!==null;)Yh(ne)}function Mg(){for(;ne!==null&&!fm();)Yh(ne)}function Yh(t){var e=ef(t.alternate,t,Ae);t.memoizedProps=t.pendingProps,e===null?Xh(t):ne=e,Nl.current=null}function Xh(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Lg(r,e),r!==null){r.flags&=32767,ne=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ae=6,ne=null;return}}else if(r=Ig(r,e,Ae),r!==null){ne=r;return}if(e=e.sibling,e!==null){ne=e;return}ne=e=t}while(e!==null);ae===0&&(ae=5)}function Zt(t,e,r){var n=B,s=We.transition;try{We.transition=null,B=1,Vg(t,e,r,n)}finally{We.transition=s,B=n}return null}function Vg(t,e,r,n){do qr();while(Ot!==null);if(D&6)throw Error(C(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(C(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Sm(t,i),t===ce&&(ne=ce=null,fe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ts||(Ts=!0,tf(ri,function(){return qr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=We.transition,We.transition=null;var o=B;B=1;var a=D;D|=4,Nl.current=null,Ug(t,r),qh(r,t),ug(ia),si=!!sa,ia=sa=null,t.current=r,Dg(r),pm(),D=a,B=o,We.transition=i}else t.current=r;if(Ts&&(Ts=!1,Ot=t,xi=s),i=t.pendingLanes,i===0&&(Ut=null),vm(r.stateNode),Pe(t,te()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(wi)throw wi=!1,t=Ea,Ea=null,t;return xi&1&&t.tag!==0&&qr(),i=t.pendingLanes,i&1?t===ja?Rn++:(Rn=0,ja=t):Rn=0,qt(),null}function qr(){if(Ot!==null){var t=Rd(xi),e=We.transition,r=B;try{if(We.transition=null,B=16>t?16:t,Ot===null)var n=!1;else{if(t=Ot,Ot=null,xi=0,D&6)throw Error(C(331));var s=D;for(D|=4,T=t.current;T!==null;){var i=T,o=i.child;if(T.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(T=u;T!==null;){var d=T;switch(d.tag){case 0:case 11:case 15:On(8,d,i)}var h=d.child;if(h!==null)h.return=d,T=h;else for(;T!==null;){d=T;var f=d.sibling,v=d.return;if(Vh(d),d===u){T=null;break}if(f!==null){f.return=v,T=f;break}T=v}}}var w=i.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}T=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,T=o;else e:for(;T!==null;){if(i=T,i.flags&2048)switch(i.tag){case 0:case 11:case 15:On(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,T=m;break e}T=i.return}}var p=t.current;for(T=p;T!==null;){o=T;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,T=g;else e:for(o=p;T!==null;){if(a=T,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Fi(9,a)}}catch(E){Z(a,a.return,E)}if(a===o){T=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,T=_;break e}T=a.return}}if(D=s,qt(),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(Ri,t)}catch{}n=!0}return n}finally{B=r,We.transition=e}}return!1}function nc(t,e,r){e=Zr(r,e),e=Rh(t,e,1),t=$t(t,e,1),e=ke(),t!==null&&(os(t,1,e),Pe(t,e))}function Z(t,e,r){if(t.tag===3)nc(t,t,r);else for(;e!==null;){if(e.tag===3){nc(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ut===null||!Ut.has(n))){t=Zr(r,t),t=Ah(e,t,1),e=$t(e,t,1),t=ke(),e!==null&&(os(e,1,t),Pe(e,t));break}}e=e.return}}function Wg(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ke(),t.pingedLanes|=t.suspendedLanes&r,ce===t&&(fe&r)===r&&(ae===4||ae===3&&(fe&130023424)===fe&&500>te()-Ol?ar(t,0):Tl|=r),Pe(t,e)}function Zh(t,e){e===0&&(t.mode&1?(e=ws,ws<<=1,!(ws&130023424)&&(ws=4194304)):e=1);var r=ke();t=wt(t,e),t!==null&&(os(t,e,r),Pe(t,r))}function Hg(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Zh(t,r)}function qg(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(C(314))}n!==null&&n.delete(e),Zh(t,r)}var ef;ef=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Te.current)Ne=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ne=!1,Ag(t,e,r);Ne=!!(t.flags&131072)}else Ne=!1,K&&e.flags&1048576&&sh(e,di,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Js(t,e),t=e.pendingProps;var s=Jr(e,we.current);Hr(e,r),s=Sl(null,e,n,t,s,r);var i=kl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Oe(n)?(i=!0,ui(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,yl(e),s.updater=zi,e.stateNode=s,s._reactInternals=e,pa(e,n,t,r),e=va(null,e,n,!0,i,r)):(e.tag=0,K&&i&&dl(e),be(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Js(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Gg(n),t=Ye(n,t),s){case 0:e=ga(null,e,n,t,r);break e;case 1:e=Ku(null,e,n,t,r);break e;case 11:e=Hu(null,e,n,t,r);break e;case 14:e=qu(null,e,n,Ye(n.type,t),r);break e}throw Error(C(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ye(n,s),ga(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ye(n,s),Ku(t,e,n,s,r);case 3:e:{if(Uh(e),t===null)throw Error(C(387));n=e.pendingProps,i=e.memoizedState,s=i.element,ch(t,e),pi(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Zr(Error(C(423)),e),e=Gu(t,e,n,r,s);break e}else if(n!==s){s=Zr(Error(C(424)),e),e=Gu(t,e,n,r,s);break e}else for($e=Lt(e.stateNode.containerInfo.firstChild),Ue=e,K=!0,tt=null,r=lh(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Qr(),n===s){e=xt(t,e,r);break e}be(t,e,n,r)}e=e.child}return e;case 5:return dh(e),t===null&&da(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,oa(n,s)?o=null:i!==null&&oa(n,i)&&(e.flags|=32),$h(t,e),be(t,e,o,r),e.child;case 6:return t===null&&da(e),null;case 13:return Dh(t,e,r);case 4:return wl(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Yr(e,null,n,r):be(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ye(n,s),Hu(t,e,n,s,r);case 7:return be(t,e,e.pendingProps,r),e.child;case 8:return be(t,e,e.pendingProps.children,r),e.child;case 12:return be(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,V(hi,n._currentValue),n._currentValue=o,i!==null)if(st(i.value,o)){if(i.children===s.children&&!Te.current){e=xt(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=gt(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),ha(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(C(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),ha(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}be(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Hr(e,r),s=He(s),n=n(s),e.flags|=1,be(t,e,n,r),e.child;case 14:return n=e.type,s=Ye(n,e.pendingProps),s=Ye(n.type,s),qu(t,e,n,s,r);case 15:return Ih(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ye(n,s),Js(t,e),e.tag=1,Oe(n)?(t=!0,ui(e)):t=!1,Hr(e,r),Ph(e,n,s),pa(e,n,s,r),va(null,e,n,!0,t,r);case 19:return zh(t,e,r);case 22:return Lh(t,e,r)}throw Error(C(156,e.tag))};function tf(t,e){return Nd(t,e)}function Kg(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ve(t,e,r,n){return new Kg(t,e,r,n)}function Il(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gg(t){if(typeof t=="function")return Il(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Za)return 11;if(t===el)return 14}return 2}function zt(t,e){var r=t.alternate;return r===null?(r=Ve(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Xs(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")Il(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Or:return lr(r.children,s,i,e);case Xa:o=8,s|=8;break;case Do:return t=Ve(12,r,e,s|2),t.elementType=Do,t.lanes=i,t;case zo:return t=Ve(13,r,e,s),t.elementType=zo,t.lanes=i,t;case Fo:return t=Ve(19,r,e,s),t.elementType=Fo,t.lanes=i,t;case dd:return Mi(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ud:o=10;break e;case cd:o=9;break e;case Za:o=11;break e;case el:o=14;break e;case kt:o=16,n=null;break e}throw Error(C(130,t==null?t:typeof t,""))}return e=Ve(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function lr(t,e,r,n){return t=Ve(7,t,n,e),t.lanes=r,t}function Mi(t,e,r,n){return t=Ve(22,t,n,e),t.elementType=dd,t.lanes=r,t.stateNode={isHidden:!1},t}function ko(t,e,r){return t=Ve(6,t,null,e),t.lanes=r,t}function Eo(t,e,r){return e=Ve(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Jg(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=so(0),this.expirationTimes=so(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=so(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ll(t,e,r,n,s,i,o,a,l){return t=new Jg(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ve(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},yl(i),t}function Qg(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function rf(t){if(!t)return Mt;t=t._reactInternals;e:{if(mr(t)!==t||t.tag!==1)throw Error(C(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Oe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(C(171))}if(t.tag===1){var r=t.type;if(Oe(r))return rh(t,r,e)}return e}function nf(t,e,r,n,s,i,o,a,l){return t=Ll(r,n,!0,t,s,i,o,a,l),t.context=rf(null),r=t.current,n=ke(),s=Dt(r),i=gt(n,s),i.callback=e??null,$t(r,i,s),t.current.lanes=s,os(t,s,n),Pe(t,n),t}function Vi(t,e,r,n){var s=e.current,i=ke(),o=Dt(s);return r=rf(r),e.context===null?e.context=r:e.pendingContext=r,e=gt(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=$t(s,e,o),t!==null&&(nt(t,s,o,i),qs(t,s,o)),o}function bi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function $l(t,e){sc(t,e),(t=t.alternate)&&sc(t,e)}function Yg(){return null}var sf=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ul(t){this._internalRoot=t}Wi.prototype.render=Ul.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(C(409));Vi(t,e,null,null)};Wi.prototype.unmount=Ul.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fr(function(){Vi(null,t,null,null)}),e[yt]=null}};function Wi(t){this._internalRoot=t}Wi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ld();t={blockedOn:null,target:t,priority:e};for(var r=0;r<jt.length&&e!==0&&e<jt[r].priority;r++);jt.splice(r,0,t),r===0&&Ud(t)}};function Dl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ic(){}function Xg(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=bi(o);i.call(u)}}var o=nf(e,n,t,0,null,!1,!1,"",ic);return t._reactRootContainer=o,t[yt]=o.current,Hn(t.nodeType===8?t.parentNode:t),fr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=bi(l);a.call(u)}}var l=Ll(t,0,!1,null,null,!1,!1,"",ic);return t._reactRootContainer=l,t[yt]=l.current,Hn(t.nodeType===8?t.parentNode:t),fr(function(){Vi(e,l,r,n)}),l}function qi(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=bi(o);a.call(l)}}Vi(e,o,t,s)}else o=Xg(r,e,t,s,n);return bi(o)}Ad=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=_n(e.pendingLanes);r!==0&&(nl(e,r|1),Pe(e,te()),!(D&6)&&(en=te()+500,qt()))}break;case 13:fr(function(){var n=wt(t,1);if(n!==null){var s=ke();nt(n,t,1,s)}}),$l(t,1)}};sl=function(t){if(t.tag===13){var e=wt(t,134217728);if(e!==null){var r=ke();nt(e,t,134217728,r)}$l(t,134217728)}};Id=function(t){if(t.tag===13){var e=Dt(t),r=wt(t,e);if(r!==null){var n=ke();nt(r,t,e,n)}$l(t,e)}};Ld=function(){return B};$d=function(t,e){var r=B;try{return B=t,e()}finally{B=r}};Qo=function(t,e,r){switch(e){case"input":if(Vo(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=$i(n);if(!s)throw Error(C(90));fd(n),Vo(n,s)}}}break;case"textarea":md(t,r);break;case"select":e=r.value,e!=null&&Br(t,!!r.multiple,e,!1)}};bd=Pl;Sd=fr;var Zg={usingClientEntryPoint:!1,Events:[ls,Ir,$i,xd,_d,Pl]},yn={findFiberByHostInstance:nr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ev={bundleType:yn.bundleType,version:yn.version,rendererPackageName:yn.rendererPackageName,rendererConfig:yn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_t.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=jd(t),t===null?null:t.stateNode},findFiberByHostInstance:yn.findFiberByHostInstance||Yg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Os=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Os.isDisabled&&Os.supportsFiber)try{Ri=Os.inject(ev),ut=Os}catch{}}ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zg;ze.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dl(e))throw Error(C(200));return Qg(t,e,null,r)};ze.createRoot=function(t,e){if(!Dl(t))throw Error(C(299));var r=!1,n="",s=sf;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ll(t,1,!1,null,null,r,!1,n,s),t[yt]=e.current,Hn(t.nodeType===8?t.parentNode:t),new Ul(e)};ze.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(C(188)):(t=Object.keys(t).join(","),Error(C(268,t)));return t=jd(e),t=t===null?null:t.stateNode,t};ze.flushSync=function(t){return fr(t)};ze.hydrate=function(t,e,r){if(!Hi(e))throw Error(C(200));return qi(null,t,e,!0,r)};ze.hydrateRoot=function(t,e,r){if(!Dl(t))throw Error(C(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=sf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=nf(e,null,t,1,r??null,s,!1,i,o),t[yt]=e.current,Hn(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Wi(e)};ze.render=function(t,e,r){if(!Hi(e))throw Error(C(200));return qi(null,t,e,!1,r)};ze.unmountComponentAtNode=function(t){if(!Hi(t))throw Error(C(40));return t._reactRootContainer?(fr(function(){qi(null,null,t,!1,function(){t._reactRootContainer=null,t[yt]=null})}),!0):!1};ze.unstable_batchedUpdates=Pl;ze.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Hi(r))throw Error(C(200));if(t==null||t._reactInternals===void 0)throw Error(C(38));return qi(t,e,r,!1,n)};ze.version="18.3.1-next-f1338f8080-20240426";function of(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(of)}catch(t){console.error(t)}}of(),id.exports=ze;var tv=id.exports,af,oc=tv;af=oc.createRoot,oc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function es(){return es=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},es.apply(this,arguments)}var Pt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Pt||(Pt={}));const ac="popstate";function rv(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=gr(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Ta("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof i=="string"?i:Si(i))}function n(s,i){zl(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return sv(e,r,n,t)}function se(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zl(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nv(){return Math.random().toString(36).substr(2,8)}function lc(t,e){return{usr:t.state,key:t.key,idx:e}}function Ta(t,e,r,n){return r===void 0&&(r=null),es({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?gr(e):e,{state:r,key:e&&e.key||n||nv()})}function Si(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function gr(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function sv(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=Pt.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(es({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Pt.Pop;let x=d(),m=x==null?null:x-u;u=x,l&&l({action:a,location:y.location,delta:m})}function f(x,m){a=Pt.Push;let p=Ta(y.location,x,m);r&&r(p,x),u=d()+1;let g=lc(p,u),_=y.createHref(p);try{o.pushState(g,"",_)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(_)}i&&l&&l({action:a,location:y.location,delta:1})}function v(x,m){a=Pt.Replace;let p=Ta(y.location,x,m);r&&r(p,x),u=d();let g=lc(p,u),_=y.createHref(p);o.replaceState(g,"",_),i&&l&&l({action:a,location:y.location,delta:0})}function w(x){let m=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof x=="string"?x:Si(x);return p=p.replace(/ $/,"%20"),se(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let y={get action(){return a},get location(){return t(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(ac,h),l=x,()=>{s.removeEventListener(ac,h),l=null}},createHref(x){return e(s,x)},createURL:w,encodeLocation(x){let m=w(x);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:v,go(x){return o.go(x)}};return y}var uc;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(uc||(uc={}));function iv(t,e,r){return r===void 0&&(r="/"),ov(t,e,r)}function ov(t,e,r,n){let s=typeof e=="string"?gr(e):e,i=Fl(s.pathname||"/",r);if(i==null)return null;let o=lf(t);av(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=wv(i);a=gv(o[l],u)}return a}function lf(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(se(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Ft([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(se(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),lf(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:pv(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of uf(i.path))s(i,o,l)}),e}function uf(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=uf(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function av(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:mv(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const lv=/^:[\w-]+$/,uv=3,cv=2,dv=1,hv=10,fv=-2,cc=t=>t==="*";function pv(t,e){let r=t.split("/"),n=r.length;return r.some(cc)&&(n+=fv),e&&(n+=cv),r.filter(s=>!cc(s)).reduce((s,i)=>s+(lv.test(i)?uv:i===""?dv:hv),n)}function mv(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function gv(t,e,r){let{routesMeta:n}=t,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=vv({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Ft([i,h.pathname]),pathnameBase:Sv(Ft([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Ft([i,h.pathnameBase]))}return o}function vv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=yv(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:v}=d;if(f==="*"){let y=a[h]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const w=a[h];return v&&!w?u[f]=void 0:u[f]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function yv(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),zl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function wv(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zl(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Fl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function xv(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?gr(t):t;return{pathname:r?r.startsWith("/")?r:_v(r,e):e,search:kv(n),hash:Ev(s)}}function _v(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function jo(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bv(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function cf(t,e){let r=bv(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function df(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=gr(t):(s=es({},t),se(!s.pathname||!s.pathname.includes("?"),jo("?","pathname","search",s)),se(!s.pathname||!s.pathname.includes("#"),jo("#","pathname","hash",s)),se(!s.search||!s.search.includes("#"),jo("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=xv(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Ft=t=>t.join("/").replace(/\/\/+/g,"/"),Sv=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),kv=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ev=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function jv(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const hf=["post","put","patch","delete"];new Set(hf);const Cv=["get",...hf];new Set(Cv);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ts(){return ts=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ts.apply(this,arguments)}const Bl=S.createContext(null),Nv=S.createContext(null),vr=S.createContext(null),Ki=S.createContext(null),yr=S.createContext({outlet:null,matches:[],isDataRoute:!1}),ff=S.createContext(null);function Tv(t,e){let{relative:r}=e===void 0?{}:e;cs()||se(!1);let{basename:n,navigator:s}=S.useContext(vr),{hash:i,pathname:o,search:a}=mf(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Ft([n,o])),s.createHref({pathname:l,search:a,hash:i})}function cs(){return S.useContext(Ki)!=null}function Gi(){return cs()||se(!1),S.useContext(Ki).location}function pf(t){S.useContext(vr).static||S.useLayoutEffect(t)}function it(){let{isDataRoute:t}=S.useContext(yr);return t?Mv():Ov()}function Ov(){cs()||se(!1);let t=S.useContext(Bl),{basename:e,future:r,navigator:n}=S.useContext(vr),{matches:s}=S.useContext(yr),{pathname:i}=Gi(),o=JSON.stringify(cf(s,r.v7_relativeSplatPath)),a=S.useRef(!1);return pf(()=>{a.current=!0}),S.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=df(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ft([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,o,i,t])}function mf(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=S.useContext(vr),{matches:s}=S.useContext(yr),{pathname:i}=Gi(),o=JSON.stringify(cf(s,n.v7_relativeSplatPath));return S.useMemo(()=>df(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function Pv(t,e){return Rv(t,e)}function Rv(t,e,r,n){cs()||se(!1);let{navigator:s}=S.useContext(vr),{matches:i}=S.useContext(yr),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Gi(),d;if(e){var h;let x=typeof e=="string"?gr(e):e;l==="/"||(h=x.pathname)!=null&&h.startsWith(l)||se(!1),d=x}else d=u;let f=d.pathname||"/",v=f;if(l!=="/"){let x=l.replace(/^\//,"").split("/");v="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let w=iv(t,{pathname:v}),y=Uv(w&&w.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Ft([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Ft([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return e&&y?S.createElement(Ki.Provider,{value:{location:ts({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Pt.Pop}},y):y}function Av(){let t=Bv(),e=jv(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),r?S.createElement("pre",{style:s},r):null,null)}const Iv=S.createElement(Av,null);class Lv extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?S.createElement(yr.Provider,{value:this.props.routeContext},S.createElement(ff.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $v(t){let{routeContext:e,match:r,children:n}=t,s=S.useContext(Bl);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),S.createElement(yr.Provider,{value:e},n)}function Uv(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||se(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:v}=r,w=h.route.loader&&f[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||w){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let v,w=!1,y=null,x=null;r&&(v=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||Iv,l&&(u<0&&f===0?(Vv("route-fallback"),w=!0,x=null):u===f&&(w=!0,x=h.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,f+1)),p=()=>{let g;return v?g=y:w?g=x:h.route.Component?g=S.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=d,S.createElement($v,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:r!=null},children:g})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?S.createElement(Lv,{location:r.location,revalidation:r.revalidation,component:y,error:v,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var gf=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(gf||{}),vf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(vf||{});function Dv(t){let e=S.useContext(Bl);return e||se(!1),e}function zv(t){let e=S.useContext(Nv);return e||se(!1),e}function Fv(t){let e=S.useContext(yr);return e||se(!1),e}function yf(t){let e=Fv(),r=e.matches[e.matches.length-1];return r.route.id||se(!1),r.route.id}function Bv(){var t;let e=S.useContext(ff),r=zv(),n=yf();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Mv(){let{router:t}=Dv(gf.UseNavigateStable),e=yf(vf.UseNavigateStable),r=S.useRef(!1);return pf(()=>{r.current=!0}),S.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,ts({fromRouteId:e},i)))},[t,e])}const dc={};function Vv(t,e,r){dc[t]||(dc[t]=!0)}function Wv(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Re(t){se(!1)}function Hv(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Pt.Pop,navigator:i,static:o=!1,future:a}=t;cs()&&se(!1);let l=e.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:l,navigator:i,static:o,future:ts({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=gr(n));let{pathname:d="/",search:h="",hash:f="",state:v=null,key:w="default"}=n,y=S.useMemo(()=>{let x=Fl(d,l);return x==null?null:{location:{pathname:x,search:h,hash:f,state:v,key:w},navigationType:s}},[l,d,h,f,v,w,s]);return y==null?null:S.createElement(vr.Provider,{value:u},S.createElement(Ki.Provider,{children:r,value:y}))}function qv(t){let{children:e,location:r}=t;return Pv(Oa(e),r)}new Promise(()=>{});function Oa(t,e){e===void 0&&(e=[]);let r=[];return S.Children.forEach(t,(n,s)=>{if(!S.isValidElement(n))return;let i=[...e,s];if(n.type===S.Fragment){r.push.apply(r,Oa(n.props.children,i));return}n.type!==Re&&se(!1),!n.props.index||!n.props.children||se(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Oa(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pa(){return Pa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pa.apply(this,arguments)}function Kv(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function Gv(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Jv(t,e){return t.button===0&&(!e||e==="_self")&&!Gv(t)}const Qv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Yv="6";try{window.__reactRouterVersion=Yv}catch{}const Xv="startTransition",hc=Wp[Xv];function Zv(t){let{basename:e,children:r,future:n,window:s}=t,i=S.useRef();i.current==null&&(i.current=rv({window:s,v5Compat:!0}));let o=i.current,[a,l]=S.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=S.useCallback(h=>{u&&hc?hc(()=>l(h)):l(h)},[l,u]);return S.useLayoutEffect(()=>o.listen(d),[o,d]),S.useEffect(()=>Wv(n),[n]),S.createElement(Hv,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const ey=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ty=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wf=S.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h}=e,f=Kv(e,Qv),{basename:v}=S.useContext(vr),w,y=!1;if(typeof u=="string"&&ty.test(u)&&(w=u,ey))try{let g=new URL(window.location.href),_=u.startsWith("//")?new URL(g.protocol+u):new URL(u),E=Fl(_.pathname,v);_.origin===g.origin&&E!=null?u=E+_.search+_.hash:y=!0}catch{}let x=Tv(u,{relative:s}),m=ry(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function p(g){n&&n(g),g.defaultPrevented||m(g)}return S.createElement("a",Pa({},f,{href:w||x,onClick:y||i?n:p,ref:r,target:l}))});var fc;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(fc||(fc={}));var pc;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(pc||(pc={}));function ry(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=it(),u=Gi(),d=mf(t,{relative:o});return S.useCallback(h=>{if(Jv(h,r)){h.preventDefault();let f=n!==void 0?n:Si(u)===Si(d);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,n,s,r,t,i,o,a])}function wr({className:t=""}){return c.jsxs("svg",{className:t,viewBox:"0 0 1440 320",preserveAspectRatio:"none","aria-hidden":!0,children:[c.jsxs("defs",{children:[c.jsxs("linearGradient",{id:"waveFill",x1:"0",x2:"0",y1:"0",y2:"1",children:[c.jsx("stop",{offset:"0%",stopColor:"#385FB7"}),c.jsx("stop",{offset:"100%",stopColor:"#2B3F8F"})]}),c.jsxs("linearGradient",{id:"rimGrad",x1:"0",x2:"1",y1:"0",y2:"0",children:[c.jsx("stop",{offset:"0%",stopColor:"#6FEAFF"}),c.jsx("stop",{offset:"100%",stopColor:"#1DC6EE"})]}),c.jsxs("linearGradient",{id:"crestLight",x1:"0",x2:"1",y1:"0",y2:"0",children:[c.jsx("stop",{offset:"0%",stopColor:"#9FF3FF"}),c.jsx("stop",{offset:"100%",stopColor:"#58E2FF"})]})]}),c.jsx("path",{d:"M0,230 C320,265 860,215 1120,210 C1280,206 1385,150 1440,60 L1440,320 L0,320 Z",fill:"url(#waveFill)"}),c.jsx("path",{d:"M0,210 C320,250 860,210 1120,204 C1290,200 1395,130 1440,40 L1440,72 C1394,150 1295,205 1120,214 C860,224 320,245 0,198 Z",fill:"url(#rimGrad)",opacity:"0.95"}),c.jsx("path",{d:"M0,210 C320,250 860,210 1120,204 C1290,200 1395,130 1440,40",fill:"none",stroke:"url(#crestLight)",strokeWidth:"6",strokeLinecap:"round",opacity:"0.9"})]})}function mc(){return c.jsxs("div",{className:"relative min-h-screen flex flex-col bg-gradient-to-b from-blueTop/80 via-blue-50/70 to-white overflow-hidden text-gray-900",children:[c.jsx("div",{className:"absolute top-10 -left-8 w-32 h-32 rounded-full bg-blueTop/30 blur-3xl pointer-events-none"}),c.jsx("div",{className:"absolute top-32 right-2 w-48 h-48 rounded-full bg-white/40 blur-3xl pointer-events-none"}),c.jsx(wr,{className:"absolute inset-x-0 bottom-0 w-full h-60 md:h-72 lg:h-80 pointer-events-none select-none",loading:"lazy"}),c.jsx("header",{className:"relative z-10 flex flex-col items-center pt-12 pb-8",children:c.jsxs("div",{className:"bg-gradient-to-r from-blueTop to-[#5d84d2] w-full max-w-xl rounded-[30px] shadow-xl shadow-blueTop/30 border border-white/30 flex flex-col items-center gap-4 py-6 px-4",children:[c.jsx("img",{src:"/assets/SescSenac.png",alt:"Sesc Senac",className:"h-16 object-contain",loading:"lazy"}),c.jsx("div",{className:"-mb-8",children:c.jsx("span",{className:"px-10 py-1 rounded-full bg-white/20 text-white text-xs font-semibold tracking-[0.3em] uppercase shadow-lg shadow-blueTop/30 border border-white/40",children:"Lanchonete"})})]})}),c.jsxs("main",{className:"relative z-10 flex-1 flex flex-col items-center justify-start pt-20 gap-6",children:[c.jsx("a",{href:"#/login",className:"w-72 h-12 rounded-lg bg-accent text-black font-semibold tracking-wide border border-amber-700/40 shadow-lg shadow-amber-900/25 hover:translate-y-0.5 transition-transform flex items-center justify-center",children:"LOGIN"}),c.jsx("a",{href:"#/cadastro",className:"w-72 h-12 rounded-lg bg-accent text-black font-semibold tracking-wide border border-amber-700/40 shadow-lg shadow-amber-900/25 hover:translate-y-0.5 transition-transform flex items-center justify-center",children:"CADASTRAR"})]})]})}var Ra=function(t,e){return Ra=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Ra(t,e)};function xf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ra(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ki=function(){return ki=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ki.apply(this,arguments)};function an(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function _f(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function bf(t,e){return function(r,n){e(r,n,t)}}function Sf(t,e,r,n,s,i){function o(m){if(m!==void 0&&typeof m!="function")throw new TypeError("Function expected");return m}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h,f=!1,v=r.length-1;v>=0;v--){var w={};for(var y in n)w[y]=y==="access"?{}:n[y];for(var y in n.access)w.access[y]=n.access[y];w.addInitializer=function(m){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(m||null))};var x=(0,r[v])(a==="accessor"?{get:d.get,set:d.set}:d[l],w);if(a==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(h=o(x.get))&&(d.get=h),(h=o(x.set))&&(d.set=h),(h=o(x.init))&&s.unshift(h)}else(h=o(x))&&(a==="field"?s.unshift(h):d[l]=h)}u&&Object.defineProperty(u,n.name,d),f=!0}function kf(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function Ef(t){return typeof t=="symbol"?t:"".concat(t)}function jf(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Cf(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function P(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}function Nf(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Ji=Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function Tf(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Ji(e,t,r)}function Ei(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ml(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function Of(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ml(arguments[e]));return t}function Pf(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function Rf(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function tn(t){return this instanceof tn?(this.v=t,this):new tn(t)}function Af(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(v){return function(w){return Promise.resolve(w).then(v,h)}}function a(v,w){n[v]&&(s[v]=function(y){return new Promise(function(x,m){i.push([v,y,x,m])>1||l(v,y)})},w&&(s[v]=w(s[v])))}function l(v,w){try{u(n[v](w))}catch(y){f(i[0][3],y)}}function u(v){v.value instanceof tn?Promise.resolve(v.value.v).then(d,h):f(i[0][2],v)}function d(v){l("next",v)}function h(v){l("throw",v)}function f(v,w){v(w),i.shift(),i.length&&l(i[0][0],i[0][1])}}function If(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:tn(t[s](o)),done:!1}:i?i(o):o}:i}}function Lf(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Ei=="function"?Ei(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(u){i({value:u,done:a})},o)}}function $f(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var ny=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Aa=function(t){return Aa=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},Aa(t)};function Uf(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Aa(t),n=0;n<r.length;n++)r[n]!=="default"&&Ji(e,t,r[n]);return ny(e,t),e}function Df(t){return t&&t.__esModule?t:{default:t}}function zf(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function Ff(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function Bf(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Mf(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var sy=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function Vf(t){function e(i){t.error=t.hasError?new sy(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return e(o),s()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function Wf(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?e?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):t}const iy={__extends:xf,__assign:ki,__rest:an,__decorate:_f,__param:bf,__esDecorate:Sf,__runInitializers:kf,__propKey:Ef,__setFunctionName:jf,__metadata:Cf,__awaiter:P,__generator:Nf,__createBinding:Ji,__exportStar:Tf,__values:Ei,__read:Ml,__spread:Of,__spreadArrays:Pf,__spreadArray:Rf,__await:tn,__asyncGenerator:Af,__asyncDelegator:If,__asyncValues:Lf,__makeTemplateObject:$f,__importStar:Uf,__importDefault:Df,__classPrivateFieldGet:zf,__classPrivateFieldSet:Ff,__classPrivateFieldIn:Bf,__addDisposableResource:Mf,__disposeResources:Vf,__rewriteRelativeImportExtension:Wf},oy=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Mf,get __assign(){return ki},__asyncDelegator:If,__asyncGenerator:Af,__asyncValues:Lf,__await:tn,__awaiter:P,__classPrivateFieldGet:zf,__classPrivateFieldIn:Bf,__classPrivateFieldSet:Ff,__createBinding:Ji,__decorate:_f,__disposeResources:Vf,__esDecorate:Sf,__exportStar:Tf,__extends:xf,__generator:Nf,__importDefault:Df,__importStar:Uf,__makeTemplateObject:$f,__metadata:Cf,__param:bf,__propKey:Ef,__read:Ml,__rest:an,__rewriteRelativeImportExtension:Wf,__runInitializers:kf,__setFunctionName:jf,__spread:Of,__spreadArray:Rf,__spreadArrays:Pf,__values:Ei,default:iy},Symbol.toStringTag,{value:"Module"})),ay="modulepreload",ly=function(t){return"/"+t},gc={},ln=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=ly(l),l in gc)return;gc[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":ay,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,v)=>{h.addEventListener("load",f),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},uy=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ln(async()=>{const{default:n}=await Promise.resolve().then(()=>xr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Vl extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class vc extends Vl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class yc extends Vl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class wc extends Vl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ia;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ia||(Ia={}));class cy{constructor(e,{headers:r={},customFetch:n,region:s=Ia.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=uy(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return P(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:i,method:o,body:a,signal:l}=n;let u={},{region:d}=n;d||(d=this.region);const h=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,h.searchParams.set("forceFunctionRegion",d));let f;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",f=a):typeof a=="string"?(u["Content-Type"]="text/plain",f=a):typeof FormData<"u"&&a instanceof FormData?f=a:(u["Content-Type"]="application/json",f=JSON.stringify(a)):f=a;const v=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:f,signal:l}).catch(m=>{throw m.name==="AbortError"?m:new vc(m)}),w=v.headers.get("x-relay-error");if(w&&w==="true")throw new yc(v);if(!v.ok)throw new wc(v);let y=((s=v.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),x;return y==="application/json"?x=yield v.json():y==="application/octet-stream"||y==="application/pdf"?x=yield v.blob():y==="text/event-stream"?x=v:y==="multipart/form-data"?x=yield v.formData():x=yield v.text(),{data:x,error:null,response:v}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new vc(i)}:{data:null,error:i,response:i instanceof wc||i instanceof yc?i.context:void 0}}})}}var Se={};const un=qc(oy);var Ps={},Rs={},As={},Is={},Ls={},dy=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},rn=dy();const hy=rn.fetch,Hf=rn.fetch.bind(rn),qf=rn.Headers,fy=rn.Request,py=rn.Response,xr=Object.freeze(Object.defineProperty({__proto__:null,Headers:qf,Request:fy,Response:py,default:Hf,fetch:hy},Symbol.toStringTag,{value:"Module"})),my=qc(xr);var $s={},xc;function Kf(){if(xc)return $s;xc=1,Object.defineProperty($s,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return $s.default=t,$s}var _c;function Gf(){if(_c)return Ls;_c=1,Object.defineProperty(Ls,"__esModule",{value:!0});const t=un,e=t.__importDefault(my),r=t.__importDefault(Kf());class n{constructor(i){var o,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,h,f,v;let w=null,y=null,x=null,m=u.status,p=u.statusText;if(u.ok){if(this.method!=="HEAD"){const b=await u.text();b===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?y=b:y=JSON.parse(b))}const _=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),E=(f=u.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");_&&E&&E.length>1&&(x=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(w={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,x=null,m=406,p="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const _=await u.text();try{w=JSON.parse(_),Array.isArray(w)&&u.status===404&&(y=[],w=null,m=200,p="OK")}catch{u.status===404&&_===""?(m=204,p="No Content"):w={message:_}}if(w&&this.isMaybeSingle&&(!((v=w==null?void 0:w.details)===null||v===void 0)&&v.includes("0 rows"))&&(w=null,m=200,p="OK"),w&&this.shouldThrowOnError)throw new r.default(w)}return{error:w,data:y,count:x,status:m,statusText:p}});return this.shouldThrowOnError||(l=l.catch(u=>{var d,h,f;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(h=u==null?void 0:u.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(f=u==null?void 0:u.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return Ls.default=n,Ls}var bc;function Jf(){if(bc)return Is;bc=1,Object.defineProperty(Is,"__esModule",{value:!0});const e=un.__importDefault(Gf());class r extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var d;const h=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${f}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Is.default=r,Is}var Sc;function Wl(){if(Sc)return As;Sc=1,Object.defineProperty(As,"__esModule",{value:!0});const e=un.__importDefault(Jf()),r=new RegExp("[,()]");class n extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:a,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const d=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${u}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(i,o,a){return this.url.searchParams.append(i,`not.${o}.${a}`),this}or(i,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,o,a){return this.url.searchParams.append(i,`${o}.${a}`),this}}return As.default=n,As}var kc;function Qf(){if(kc)return Rs;kc=1,Object.defineProperty(Rs,"__esModule",{value:!0});const e=un.__importDefault(Wl());class r{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((f,v)=>f.concat(Object.keys(v)),[]);if(h.length>0){const f=[...new Set(h)].map(v=>`"${v}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Rs.default=r,Rs}var Ec;function gy(){if(Ec)return Ps;Ec=1,Object.defineProperty(Ps,"__esModule",{value:!0});const t=un,e=t.__importDefault(Qf()),r=t.__importDefault(Wl());class n{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:u}={}){var d;let h;const f=new URL(`${this.url}/rpc/${i}`);let v;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([y,x])=>x!==void 0).map(([y,x])=>[y,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([y,x])=>{f.searchParams.append(y,x)})):(h="POST",v=o);const w=new Headers(this.headers);return u&&w.set("Prefer",`count=${u}`),new r.default({method:h,url:f,headers:w,schema:this.schemaName,body:v,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Ps.default=n,Ps}Object.defineProperty(Se,"__esModule",{value:!0});var Yf=Se.PostgrestError=ap=Se.PostgrestBuilder=ip=Se.PostgrestTransformBuilder=np=Se.PostgrestFilterBuilder=tp=Se.PostgrestQueryBuilder=Zf=Se.PostgrestClient=void 0;const cn=un,Xf=cn.__importDefault(gy());var Zf=Se.PostgrestClient=Xf.default;const ep=cn.__importDefault(Qf());var tp=Se.PostgrestQueryBuilder=ep.default;const rp=cn.__importDefault(Wl());var np=Se.PostgrestFilterBuilder=rp.default;const sp=cn.__importDefault(Jf());var ip=Se.PostgrestTransformBuilder=sp.default;const op=cn.__importDefault(Gf());var ap=Se.PostgrestBuilder=op.default;const lp=cn.__importDefault(Kf());Yf=Se.PostgrestError=lp.default;var up=Se.default={PostgrestClient:Xf.default,PostgrestQueryBuilder:ep.default,PostgrestFilterBuilder:rp.default,PostgrestTransformBuilder:sp.default,PostgrestBuilder:op.default,PostgrestError:lp.default};const vy=Hc({__proto__:null,get PostgrestBuilder(){return ap},get PostgrestClient(){return Zf},get PostgrestError(){return Yf},get PostgrestFilterBuilder(){return np},get PostgrestQueryBuilder(){return tp},get PostgrestTransformBuilder(){return ip},default:up},[Se]),{PostgrestClient:yy,PostgrestQueryBuilder:ex,PostgrestFilterBuilder:tx,PostgrestTransformBuilder:rx,PostgrestBuilder:nx,PostgrestError:sx}=up||vy;class wy{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const xy="2.78.0",_y=`realtime-js/${xy}`,by="1.0.0",La=1e4,Sy=1e3,ky=100;var An;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(An||(An={}));var ie;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ie||(ie={}));var et;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(et||(et={}));var $a;(function(t){t.websocket="websocket"})($a||($a={}));var tr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(tr||(tr={}));class Ey{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+s));o=o+s;const l=n.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class cp{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var M;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(M||(M={}));const jc=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=jy(o,t,e,s),i),{}):{}},jy=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?dp(i,o):Ua(o)},dp=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Oy(e,r)}switch(t){case M.bool:return Cy(e);case M.float4:case M.float8:case M.int2:case M.int4:case M.int8:case M.numeric:case M.oid:return Ny(e);case M.json:case M.jsonb:return Ty(e);case M.timestamp:return Py(e);case M.abstime:case M.date:case M.daterange:case M.int4range:case M.int8range:case M.money:case M.reltime:case M.text:case M.time:case M.timestamptz:case M.timetz:case M.tsrange:case M.tstzrange:return Ua(e);default:return Ua(e)}},Ua=t=>t,Cy=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Ny=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Ty=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Oy=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>dp(e,a))}return t},Py=t=>typeof t=="string"?t.replace(" ","T"):t,hp=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Co{constructor(e,r,n={},s=La){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Cc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Cc||(Cc={}));class In{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=In.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=In.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=In.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(x=>x.presence_ref),v=h.map(x=>x.presence_ref),w=d.filter(x=>v.indexOf(x.presence_ref)<0),y=h.filter(x=>f.indexOf(x.presence_ref)<0);w.length>0&&(a[u]=w),y.length>0&&(l[u]=y)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),d.length>0){const h=e[a].map(v=>v.presence_ref),f=d.filter(v=>h.indexOf(v.presence_ref)<0);e[a].unshift(...f)}n(a,d,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Nc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Nc||(Nc={}));var Ln;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ln||(Ln={}));var ht;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ht||(ht={}));class Hl{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ie.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Co(this,et.join,this.params,this.timeout),this.rejoinTimer=new cp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ie.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ie.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this._on(et.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new In(this),this.broadcastEndpointURL=hp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ie.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Ln.PRESENCE]&&this.bindings[Ln.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(ht.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(ht.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var w;if(this.socket.setAuth(),v===void 0){e==null||e(ht.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,x=(w=y==null?void 0:y.length)!==null&&w!==void 0?w:0,m=[];for(let p=0;p<x;p++){const g=y[p],{filter:{event:_,schema:E,table:b,filter:k}}=g,j=v&&v[p];if(j&&j.event===_&&j.schema===E&&j.table===b&&j.filter===k)m.push(Object.assign(Object.assign({},g),{id:j.id}));else{this.unsubscribe(),this.state=ie.errored,e==null||e(ht.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(ht.SUBSCRIBED);return}}).receive("error",v=>{this.state=ie.errored,e==null||e(ht.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ht.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===ie.joined&&e===Ln.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ie.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(et.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Co(this,et.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ie.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Co(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>ky){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=et;if(n&&[a,l,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var w,y,x;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((x=(y=v.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(v=>v.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var w,y,x,m,p,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const _=v.id,E=(w=v.filter)===null||w===void 0?void 0:w.event;return _&&((y=r.ids)===null||y===void 0?void 0:y.includes(_))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(p=(m=v==null?void 0:v.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return _==="*"||_===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:y,table:x,commit_timestamp:m,type:p,errors:g}=w;f=Object.assign(Object.assign({},{schema:y,table:x,commit_timestamp:m,eventType:p,new:{},old:{},errors:g}),this._getPayloadRecords(w))}v.callback(f,n)})}_isClosed(){return this.state===ie.closed}_isJoined(){return this.state===ie.joined}_isJoining(){return this.state===ie.joining}_isLeaving(){return this.state===ie.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Hl.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(et.close,{},e)}_onError(e){this._on(et.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ie.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=jc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=jc(e.columns,e.old_record)),r}}const No=()=>{},Us={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ry=[1e3,2e3,5e3,1e4],Ay=1e4,Iy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ly{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=La,this.transport=null,this.heartbeatIntervalMs=Us.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=No,this.ref=0,this.reconnectTimer=null,this.logger=No,this.conn=null,this.sendBuffer=[],this.serializer=new Ey,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>ln(async()=>{const{default:a}=await Promise.resolve().then(()=>xr);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${$a.websocket}`,this.httpEndpoint=hp(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=wy.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:by}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case An.connecting:return tr.Connecting;case An.open:return tr.Open;case An.closing:return tr.Closing;default:return tr.Closed}}isConnected(){return this.connectionState()===tr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Hl(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Sy,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Us.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(et.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Iy],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:_y};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(et.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new cp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Us.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,l,u,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:La,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Us.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:No,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:h=>Ry[h-1]||Ay,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(h,f)=>f(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class ql extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function G(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class $y extends ql{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Da extends ql{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Kl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ln(async()=>{const{default:n}=await Promise.resolve().then(()=>xr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Uy=()=>P(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ln(()=>Promise.resolve().then(()=>xr),void 0)).Response:Response}),za=t=>{if(Array.isArray(t))return t.map(r=>za(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=za(n)}),e},Dy=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},To=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},zy=(t,e,r)=>P(void 0,void 0,void 0,function*(){const n=yield Uy();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new $y(To(s),i,o))}).catch(s=>{e(new Da(To(s),s))}):e(new Da(To(t),t))}),Fy=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(Dy(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function ds(t,e,r,n,s,i){return P(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,Fy(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>zy(l,a,n))})})}function rs(t,e,r,n){return P(this,void 0,void 0,function*(){return ds(t,"GET",e,r,n)})}function Xe(t,e,r,n,s){return P(this,void 0,void 0,function*(){return ds(t,"POST",e,n,s,r)})}function Fa(t,e,r,n,s){return P(this,void 0,void 0,function*(){return ds(t,"PUT",e,n,s,r)})}function By(t,e,r,n){return P(this,void 0,void 0,function*(){return ds(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Gl(t,e,r,n,s){return P(this,void 0,void 0,function*(){return ds(t,"DELETE",e,n,s,r)})}class My{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return P(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(G(e))return{data:null,error:e};throw e}})}}var fp;class Vy{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[fp]="BlobDownloadBuilder",this.promise=null}asStream(){return new My(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return P(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(G(e))return{data:null,error:e};throw e}})}}fp=Symbol.toStringTag;const Wy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Tc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Hy{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=Kl(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return P(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Tc),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(e=="PUT"?Fa:Xe)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(G(i))return{data:null,error:i};throw i}})}upload(e,r,n){return P(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return P(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:Tc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield Fa(this.fetch,a.toString(),l,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(G(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return P(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Xe(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new ql("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(G(n))return{data:null,error:n};throw n}})}update(e,r,n){return P(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return P(this,void 0,void 0,function*(){try{return{data:yield Xe(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(G(s))return{data:null,error:s};throw s}})}copy(e,r,n){return P(this,void 0,void 0,function*(){try{return{data:{path:(yield Xe(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(G(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return P(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Xe(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(G(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return P(this,void 0,void 0,function*(){try{const s=yield Xe(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(G(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>rs(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new Vy(l,this.shouldThrowOnError)}info(e){return P(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield rs(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:za(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(G(n))return{data:null,error:n};throw n}})}exists(e){return P(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield By(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(G(n)&&n instanceof Da){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(e){return P(this,void 0,void 0,function*(){try{return{data:yield Gl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(G(r))return{data:null,error:r};throw r}})}list(e,r,n){return P(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Wy),r),{prefix:e||""});return{data:yield Xe(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(G(s))return{data:null,error:s};throw s}})}listV2(e,r){return P(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Xe(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(G(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const pp="2.78.0",mp={"X-Client-Info":`storage-js/${pp}`};class qy{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mp),r),this.fetch=Kl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return P(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield rs(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(G(r))return{data:null,error:r};throw r}})}getBucket(e){return P(this,void 0,void 0,function*(){try{return{data:yield rs(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(G(r))return{data:null,error:r};throw r}})}createBucket(e){return P(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Xe(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(G(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return P(this,void 0,void 0,function*(){try{return{data:yield Fa(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(G(n))return{data:null,error:n};throw n}})}emptyBucket(e){return P(this,void 0,void 0,function*(){try{return{data:yield Xe(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(G(r))return{data:null,error:r};throw r}})}deleteBucket(e){return P(this,void 0,void 0,function*(){try{return{data:yield Gl(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(G(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class Ky{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mp),r),this.fetch=Kl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return P(this,void 0,void 0,function*(){try{return{data:yield Xe(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(G(r))return{data:null,error:r};throw r}})}listBuckets(e){return P(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield rs(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(G(r))return{data:null,error:r};throw r}})}deleteBucket(e){return P(this,void 0,void 0,function*(){try{return{data:yield Gl(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(G(r))return{data:null,error:r};throw r}})}}const Jl={"X-Client-Info":`storage-js/${pp}`,"Content-Type":"application/json"};class gp extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ie(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Oo extends gp{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Gy extends gp{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var Oc;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Oc||(Oc={}));const Ql=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ln(async()=>{const{default:n}=await Promise.resolve().then(()=>xr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Jy=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Pc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Qy=(t,e,r)=>P(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new Oo(Pc(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new Oo(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new Oo(a,s,o))}}else e(new Gy(Pc(t),t))}),Yy=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(Jy(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function Xy(t,e,r,n,s,i){return P(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,Yy(e,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>Qy(l,a,n))})})}function Le(t,e,r,n,s){return P(this,void 0,void 0,function*(){return Xy(t,"POST",e,n,s,r)})}class Zy{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jl),r),this.fetch=Ql(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return P(this,void 0,void 0,function*(){try{return{data:(yield Le(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}getIndex(e,r){return P(this,void 0,void 0,function*(){try{return{data:yield Le(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}listIndexes(e){return P(this,void 0,void 0,function*(){try{return{data:yield Le(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return P(this,void 0,void 0,function*(){try{return{data:(yield Le(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}}class e0{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jl),r),this.fetch=Ql(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return P(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Le(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}getVectors(e){return P(this,void 0,void 0,function*(){try{return{data:yield Le(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}listVectors(e){return P(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Le(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}queryVectors(e){return P(this,void 0,void 0,function*(){try{return{data:yield Le(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}deleteVectors(e){return P(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Le(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}}class t0{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jl),r),this.fetch=Ql(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return P(this,void 0,void 0,function*(){try{return{data:(yield Le(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}getBucket(e){return P(this,void 0,void 0,function*(){try{return{data:yield Le(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}listBuckets(){return P(this,arguments,void 0,function*(e={}){try{return{data:yield Le(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}deleteBucket(e){return P(this,void 0,void 0,function*(){try{return{data:(yield Le(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}}class r0 extends t0{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new n0(this.url,this.headers,e,this.fetch)}}class n0 extends Zy{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return P(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return P(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return P(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return P(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new s0(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class s0 extends e0{constructor(e,r,n,s,i){super(e,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return P(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return P(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return P(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return P(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return P(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class i0 extends qy{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new Hy(this.url,this.headers,e,this.fetch)}get vectors(){return new r0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ky(this.url+"/iceberg",this.headers,this.fetch)}}const o0="2.78.0";let Sn="";typeof Deno<"u"?Sn="deno":typeof document<"u"?Sn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Sn="react-native":Sn="node";const a0={"X-Client-Info":`supabase-js-${Sn}/${o0}`},l0={headers:a0},u0={schema:"public"},c0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},d0={},h0=t=>{let e;return t?e=t:typeof fetch>"u"?e=Hf:e=fetch,(...r)=>e(...r)},f0=()=>typeof Headers>"u"?qf:Headers,p0=(t,e,r)=>{const n=h0(r),s=f0();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))}};function m0(t){return t.endsWith("/")?t:t+"/"}function g0(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function v0(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(m0(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const vp="2.78.0",Cr=30*1e3,Ba=3,Po=Ba*Cr,y0="http://localhost:9999",w0="supabase.auth.token",x0={"X-Client-Info":`gotrue-js/${vp}`},Ma="X-Supabase-Api-Version",yp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,b0=10*60*1e3;class ns extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function A(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class S0 extends ns{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function k0(t){return A(t)&&t.name==="AuthApiError"}class rr extends ns{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Kt extends ns{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Je extends Kt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function E0(t){return A(t)&&t.name==="AuthSessionMissingError"}class br extends Kt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ds extends Kt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class zs extends Kt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function j0(t){return A(t)&&t.name==="AuthImplicitGrantRedirectError"}class Rc extends Kt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Va extends Kt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Ro(t){return A(t)&&t.name==="AuthRetryableFetchError"}class Ac extends Kt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Wa extends Kt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ji="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ic=` 	
\r=`.split(""),C0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ic.length;e+=1)t[Ic[e].charCodeAt(0)]=-2;for(let e=0;e<ji.length;e+=1)t[ji[e].charCodeAt(0)]=e;return t})();function Lc(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ji[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ji[n]),e.queuedBits-=6}}function wp(t,e,r){const n=C0[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function $c(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{O0(o,n,r)};for(let o=0;o<t.length;o+=1)wp(t.charCodeAt(o),s,i);return e.join("")}function N0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function T0(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}N0(n,e)}}function O0(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Kr(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)wp(t.charCodeAt(s),r,n);return new Uint8Array(e)}function P0(t){const e=[];return T0(t,r=>e.push(r)),new Uint8Array(e)}function or(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Lc(s,r,n)),Lc(null,r,n),e.join("")}function R0(t){return Math.round(Date.now()/1e3)+t}function A0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const _e=()=>typeof window<"u"&&typeof document<"u",Qt={tested:!1,writable:!1},xp=()=>{if(!_e())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qt.tested)return Qt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Qt.tested=!0,Qt.writable=!0}catch{Qt.tested=!0,Qt.writable=!1}return Qt.writable};function I0(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const _p=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ln(async()=>{const{default:n}=await Promise.resolve().then(()=>xr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},L0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Nr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Yt=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},St=async(t,e)=>{await t.removeItem(e)};class Qi{constructor(){this.promise=new Qi.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Qi.promiseConstructor=Promise;function Ao(t){const e=t.split(".");if(e.length!==3)throw new Wa("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!_0.test(e[n]))throw new Wa("JWT not in base64url format");return{header:JSON.parse($c(e[0])),payload:JSON.parse($c(e[1])),signature:Kr(e[2]),raw:{header:e[0],payload:e[1]}}}async function $0(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function U0(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function D0(t){return("0"+t.toString(16)).substr(-2)}function z0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,D0).join("")}async function F0(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function B0(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await F0(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Sr(t,e,r=!1){const n=z0();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Nr(t,`${e}-code-verifier`,s);const i=await B0(n);return[i,n===i?"plain":"s256"]}const M0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function V0(t){const e=t.headers.get(Ma);if(!e||!e.match(M0))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function W0(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function H0(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const q0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function kr(t){if(!q0.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Io(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function K0(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function Uc(t){return JSON.parse(JSON.stringify(t))}const er=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),G0=[502,503,504];async function Dc(t){var e;if(!L0(t))throw new Va(er(t),0);if(G0.includes(t.status))throw new Va(er(t),t.status);let r;try{r=await t.json()}catch(i){throw new rr(er(i),i)}let n;const s=V0(t);if(s&&s.getTime()>=yp["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ac(er(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Je}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Ac(er(r),t.status,r.weak_password.reasons);throw new S0(er(r),t.status||500,n)}const J0=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function I(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Ma]||(i[Ma]=yp["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Q0(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Q0(t,e,r,n,s,i){const o=J0(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new Va(er(l),0)}if(a.ok||await Dc(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Dc(l)}}function Qe(t){var e;let r=null;Z0(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=R0(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function zc(t){const e=Qe(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Nt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Y0(t){return{data:t,error:null}}function X0(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=an(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Fc(t){return t}function Z0(t){return t.access_token&&t.refresh_token&&t.expires_in}const Lo=["global","local","others"];class ew{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=_p(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Lo[0]){if(Lo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Lo.join(", ")}`);try{return await I(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await I(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Nt})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=an(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await I(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:X0,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(A(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await I(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Nt})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await I(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Fc});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(w.split(";")[1].split("=")[1]);u[`${x}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(A(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){kr(e);try{return await I(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Nt})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){kr(e);try{return await I(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Nt})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){kr(e);try{return await I(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Nt})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){kr(e.userId);try{const{data:r,error:n}=await I(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(A(r))return{data:null,error:r};throw r}}async _deleteFactor(e){kr(e.userId),kr(e.id);try{return{data:await I(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await I(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Fc});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(w.split(";")[1].split("=")[1]);u[`${x}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(A(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await I(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(A(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await I(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(A(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await I(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await I(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await I(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(A(r))return{data:null,error:r};throw r}}}function Bc(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Er={debug:!!(globalThis&&xp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class bp extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class tw extends bp{}async function rw(t,e,r){Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Er.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new tw(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Er.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function nw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Sp(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function sw(t){return parseInt(t,16)}function iw(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function ow(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:d,uri:h,version:f}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=Sp(t.address),w=d?`${d}://${n}`:n,y=t.statement?`${t.statement}
`:"",x=`${w} wants you to sign in with your Ethereum account:
${v}

${y}`;let m=`URI: ${h}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(m+=`
Expiration Time: ${s.toISOString()}`),a&&(m+=`
Not Before: ${a.toISOString()}`),l&&(m+=`
Request ID: ${l}`),u){let p=`
Resources:`;for(const g of u){if(!g||typeof g!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${g}`);p+=`
- ${g}`}m+=p}return`${x}
${m}`}class re extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Ci extends re{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function aw({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new re({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new re({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new re({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new re({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new re({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new re({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new re({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new re({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(kp(o)){if(i.rp.id!==o)return new re({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new re({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new re({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new re({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new re({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function lw({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new re({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new re({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(kp(n)){if(r.rpId!==n)return new re({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new re({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new re({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new re({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class uw{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const cw=new uw;function dw(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=an(t,["challenge","user","excludeCredentials"]),i=Kr(e).buffer,o=Object.assign(Object.assign({},r),{id:Kr(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Kr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function hw(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=an(t,["challenge","allowCredentials"]),s=Kr(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Kr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function fw(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:or(new Uint8Array(t.response.attestationObject)),clientDataJSON:or(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function pw(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:or(new Uint8Array(s.authenticatorData)),clientDataJSON:or(new Uint8Array(s.clientDataJSON)),signature:or(new Uint8Array(s.signature)),userHandle:s.userHandle?or(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function kp(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Mc(){var t,e;return!!(_e()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function mw(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ci("Browser returned unexpected credential type",e)}:{data:null,error:new Ci("Empty credential response",e)}}catch(e){return{data:null,error:aw({error:e,options:t})}}}async function gw(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ci("Browser returned unexpected credential type",e)}:{data:null,error:new Ci("Empty credential response",e)}}catch(e){return{data:null,error:lw({error:e,options:t})}}}const vw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},yw={userVerification:"preferred",hints:["security-key"]};function Ni(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const a=n[i];e(a)?n[i]=Ni(a,o):n[i]=Ni(o)}else n[i]=o}return n}function ww(t,e){return Ni(vw,t,e||{})}function xw(t,e){return Ni(yw,t,e||{})}class _w{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const l=s??cw.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=ww(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await mw({publicKey:u,signal:l});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=xw(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await gw(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return A(o)?{data:null,error:o}:{data:null,error:new rr("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!r)return{data:null,error:new ns("rpId is required for WebAuthn authentication")};try{if(!Mc())return{data:null,error:new rr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return A(o)?{data:null,error:o}:{data:null,error:new rr("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!r)return{data:null,error:new ns("rpId is required for WebAuthn registration")};try{if(!Mc())return{data:null,error:new rr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return A(o)?{data:null,error:o}:{data:null,error:new rr("Unexpected error in register",o)}}}}nw();const bw={url:y0,storageKey:w0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:x0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Vc(t,e,r){return await r()}const jr={};class ss{get jwks(){var e,r;return(r=(e=jr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){jr[this.storageKey]=Object.assign(Object.assign({},jr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=jr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){jr[this.storageKey]=Object.assign(Object.assign({},jr[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ss.nextInstanceID,ss.nextInstanceID+=1,this.instanceID>0&&_e()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},bw),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new ew({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=_p(s.fetch),this.lock=s.lock||Vc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:_e()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=rw:this.lock=Vc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new _w(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:xp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Bc(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Bc(this.memoryStorage)),_e()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${vp}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=I0(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),_e()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),j0(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return A(r)?{error:r}:{error:new rr("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Qe}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(A(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await Sr(this.storage,this.storageKey)),i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:w},xform:Qe})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Qe})}else throw new Ds("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(A(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:zc})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:zc})}else throw new Ds("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new br}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(A(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,o,a,l,u,d,h,f;let v,w;if("message"in e)v=e.message,w=e.signature;else{const{chain:y,wallet:x,statement:m,options:p}=e;let g;if(_e())if(typeof x=="object")g=x;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")g=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=x}const _=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href),E=await g.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const b=Sp(E[0]);let k=(n=p==null?void 0:p.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!k){const O=await g.request({method:"eth_chainId"});k=sw(O)}const j={domain:_.host,address:b,statement:m,uri:_.href,version:"1",chainId:k,nonce:(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=p==null?void 0:p.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=p==null?void 0:p.signInWithEthereum)===null||d===void 0?void 0:d.resources};v=ow(j),w=await g.request({method:"personal_sign",params:[iw(v),b]})}try{const{data:y,error:x}=await I(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:w},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Qe});if(x)throw x;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new br}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:x})}catch(y){if(A(y))return{data:{user:null,session:null},error:y};throw y}}async signInWithSolana(e){var r,n,s,i,o,a,l,u,d,h,f,v;let w,y;if("message"in e)w=e.message,y=e.signature;else{const{chain:x,wallet:m,statement:p,options:g}=e;let _;if(_e())if(typeof m=="object")_=m;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))_=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=m}const E=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const b=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),p?{statement:p}:null));let k;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")k=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)k=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)w=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),y=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${E.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((h=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...g.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const b=await _.signMessage(new TextEncoder().encode(w),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=b}}try{const{data:x,error:m}=await I(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:or(y)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Qe});if(m)throw m;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new br}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:m})}catch(x){if(A(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(e){const r=await Yt(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await I(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Qe});if(await St(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new br}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(A(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await I(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Qe}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new br}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(A(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Sr(this.storage,this.storageKey));const{error:h}=await I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:d}=await I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ds("You must provide either an email or phone number.")}catch(a){if(A(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await I(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Qe});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(A(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Sr(this.storage,this.storageKey)),await I(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Y0})}catch(i){if(A(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Je;const{error:s}=await I(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(A(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await I(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await I(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Ds("You must provide either an email or phone number and a type")}catch(r){if(A(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Yt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Po:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Yt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Io()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=K0(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Nt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Je}:await I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Nt})})}catch(r){if(A(r))return E0(r)&&(await this._removeSession(),await St(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Je;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Sr(this.storage,this.storageKey));const{data:u,error:d}=await I(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Nt});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Je;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Ao(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(A(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Je;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(A(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!_e())throw new zs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new zs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Rc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new zs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Rc("No code detected.");const{data:p,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new zs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const v=f-d;v*1e3<=Cr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const w=f-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,d);const{data:y,error:x}=await this._getUser(i);if(x)throw x;const m={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(n){if(A(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Yt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(k0(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await St(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=A0(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Sr(this.storage,this.storageKey,!0));try{return await I(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(A(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:h,error:f}=i;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await I(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return _e()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(A(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:d}=e,h=await I(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Qe}),{data:f,error:v}=h;return v?{data:{user:null,session:null},error:v}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new br}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:v})}catch(s){if(A(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await I(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(A(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await U0(async s=>(s>0&&await $0(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await I(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Qe})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ro(i)&&Date.now()+o-n<Cr})}catch(n){if(this._debug(r,"error",n),A(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),_e()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Yt(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Yt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Nr(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Io()}else if(s&&!s.user&&!s.user){const o=await Yt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await St(this.storage,this.storageKey+"-user"),await Nr(this.storage,this.storageKey,s)):s.user=Io()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Po;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Po}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Ro(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Je;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Qi;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Je;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),A(i)){const o={data:null,error:i};return Ro(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Nr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Uc(s);await Nr(this.storage,this.storageKey,i)}else{const s=Uc(r);await Nr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await St(this.storage,this.storageKey),await St(this.storage,this.storageKey+"-code-verifier"),await St(this.storage,this.storageKey+"-user"),this.userStorage&&await St(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&_e()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Cr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Cr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Cr}ms, refresh threshold is ${Ba} ticks`),s<=Ba&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof bp)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_e()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Sr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await I(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(A(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await I(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(A(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?fw(e.webauthn.credential_response):pw(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await I(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(A(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const o=await I(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:dw(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:hw(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(A(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return{data:null,error:s};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Ao(n.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?{data:null,error:s}:n?await I(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):{data:null,error:new Je}})}catch(r){if(A(r))return{data:null,error:r};throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return{data:null,error:i};if(!s)return{data:null,error:new Je};const o=await I(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&_e()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return{data:null,error:i};if(!s)return{data:null,error:new Je};const o=await I(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&_e()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(A(n))return{data:null,error:n};throw n}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+b0>s)return n;const{data:i,error:o}=await I(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:w}=await this.getSession();if(w||!v.session)return{data:null,error:w};n=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Ao(n);r!=null&&r.allowExpired||W0(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const d=H0(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,P0(`${a}.${l}`)))throw new Wa("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}}ss.nextInstanceID=0;const Sw=ss;class kw extends Sw{constructor(e){super(e)}}class Ew{constructor(e,r,n){var s,i,o;this.supabaseUrl=e,this.supabaseKey=r;const a=v0(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:u0,realtime:d0,auth:Object.assign(Object.assign({},c0),{storageKey:l}),global:l0},d=g0(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=p0(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new yy(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new i0(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new cy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new kw({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:a,lock:l,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Ly(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const jw=(t,e,r)=>new Ew(t,e,r);function Cw(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Cw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Nw="https://hrwaanrvbvmistwqfjdx.supabase.co",Tw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imhyd2FhbnJ2YnZtaXN0d3FmamR4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkxNTM4NzYsImV4cCI6MjA3NDcyOTg3Nn0.ldfpNhDLAH-JpmY4CtEqAdHdQYUm0o3tsyPCwagfxNU",F=jw(Nw,Tw);function Ow(){const t=it(),[e,r]=S.useState(""),[n,s]=S.useState(""),[i,o]=S.useState(!1),[a,l]=S.useState("");return c.jsxs("div",{className:"relative min-h-screen bg-gradient-to-b from-blueTop/80 via-blue-50/60 to-white overflow-hidden text-gray-900",children:[c.jsx("div",{className:"absolute top-10 -left-6 w-32 h-32 rounded-full bg-blueTop/30 blur-3xl pointer-events-none"}),c.jsx("div",{className:"absolute top-36 right-4 w-40 h-40 rounded-full bg-white/40 blur-3xl pointer-events-none"}),c.jsx(wr,{className:"absolute inset-x-0 bottom-0 w-full h-60 md:h-72 lg:h-80 pointer-events-none select-none"}),c.jsx("div",{className:"relative z-10 max-w-xl mx-auto px-6 pt-10",children:c.jsxs("button",{"aria-label":"voltar",onClick:()=>t(-1),className:"inline-flex items-center gap-2 rounded-full bg-white/90 px-4 py-2 text-sm text-gray-600 shadow border border-white/60",children:[c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})}),"voltar"]})}),c.jsx("main",{className:"relative z-10 flex justify-center px-4 pb-24",children:c.jsxs("section",{className:"w-full max-w-xl bg-white/90 backdrop-blur-xl rounded-[30px] shadow-2xl ring-1 ring-white/60 px-8 py-10 mt-6 space-y-6",children:[c.jsxs("div",{className:"flex flex-col items-center gap-4",children:[c.jsx("img",{src:"/assets/SescSenac.png",alt:"Sesc Senac",className:"h-16 object-contain"}),c.jsx("span",{className:"px-6 py-1 rounded-full bg-blueTop text-white text-xs font-semibold tracking-[0.3em] uppercase border border-white/40 shadow shadow-blueTop/30",children:"Login"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("label",{className:"block",children:[c.jsx("span",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Email"}),c.jsx("input",{type:"email",placeholder:"digite seu email",value:e,onChange:u=>r(u.target.value),className:"mt-1 w-full h-12 rounded-2xl border border-gray-200 px-4 text-base shadow-inner shadow-gray-200 focus:outline-none focus:ring-2 focus:ring-blueTop"})]}),c.jsxs("label",{className:"block",children:[c.jsx("span",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Senha"}),c.jsx("input",{type:"password",placeholder:"digite sua senha",value:n,onChange:u=>s(u.target.value),className:"mt-1 w-full h-12 rounded-2xl border border-gray-200 px-4 text-base shadow-inner shadow-gray-200 focus:outline-none focus:ring-2 focus:ring-blueTop"})]}),a&&c.jsx("div",{className:"text-center text-red-600 text-sm",children:a}),c.jsx("button",{disabled:i,onClick:async()=>{try{l(""),o(!0);const{error:u}=await F.auth.signInWithPassword({email:e,password:n});if(u)throw u;t("/options")}catch(u){l(u.message||"Falha ao entrar")}finally{o(!1)}},className:"w-full h-12 rounded-2xl bg-accent text-black font-semibold tracking-wide border border-amber-700/40 shadow hover:brightness-95 disabled:opacity-60",children:i?"Entrando...":"ENTRAR"}),c.jsxs("div",{className:"text-center text-sm text-gray-600",children:[c.jsx("a",{href:"#/forgot-password",className:"text-blue-700 underline",children:"esqueci a senha"}),c.jsx("div",{className:"mt-1",children:c.jsx("a",{href:"#/cadastro",className:"text-blue-700 underline",children:"no tem conta?"})})]})]})]})})]})}function Pw(){const t=it(),[e,r]=S.useState(""),[n,s]=S.useState(""),[i,o]=S.useState(""),[a,l]=S.useState(""),[u,d]=S.useState(!1),[h,f]=S.useState("");return c.jsxs("div",{className:"relative min-h-screen bg-gradient-to-b from-blueTop/80 via-blue-50/60 to-white overflow-hidden text-gray-900",children:[c.jsx("div",{className:"absolute top-10 -left-6 w-32 h-32 rounded-full bg-blueTop/30 blur-3xl pointer-events-none"}),c.jsx("div",{className:"absolute top-36 right-4 w-40 h-40 rounded-full bg-white/40 blur-3xl pointer-events-none"}),c.jsx(wr,{className:"absolute inset-x-0 bottom-0 w-full h-60 md:h-72 lg:h-80 pointer-events-none select-none"}),c.jsx("div",{className:"relative z-10 max-w-xl mx-auto px-6 pt-10",children:c.jsxs("button",{"aria-label":"voltar",onClick:()=>t(-1),className:"inline-flex items-center gap-2 rounded-full bg-white/90 px-4 py-2 text-sm text-gray-600 shadow border border-white/60",children:[c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})}),"voltar"]})}),c.jsx("main",{className:"relative z-10 flex justify-center px-4 pb-24",children:c.jsxs("section",{className:"w-full max-w-xl bg-white/90 backdrop-blur-xl rounded-[30px] shadow-2xl ring-1 ring-white/60 px-8 py-10 mt-6 space-y-5",children:[c.jsxs("div",{className:"flex flex-col items-center gap-4",children:[c.jsx("img",{src:"/assets/SescSenac.png",alt:"Sesc Senac",className:"h-16 object-contain"}),c.jsx("span",{className:"px-6 py-1 rounded-full bg-blueTop text-white text-xs font-semibold tracking-[0.3em] uppercase border border-white/40 shadow shadow-blueTop/30",children:"Cadastro"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("label",{className:"block",children:[c.jsx("span",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Nome completo"}),c.jsx("input",{type:"text",placeholder:"digite seu nome",value:e,onChange:v=>r(v.target.value),className:"mt-1 w-full h-12 rounded-2xl border border-gray-200 px-4 text-base shadow-inner shadow-gray-200 focus:outline-none focus:ring-2 focus:ring-blueTop"})]}),c.jsxs("label",{className:"block",children:[c.jsx("span",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Email"}),c.jsx("input",{type:"email",placeholder:"digite seu email",value:n,onChange:v=>s(v.target.value),className:"mt-1 w-full h-12 rounded-2xl border border-gray-200 px-4 text-base shadow-inner shadow-gray-200 focus:outline-none focus:ring-2 focus:ring-blueTop"})]}),c.jsxs("label",{className:"block",children:[c.jsx("span",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Senha"}),c.jsx("input",{type:"password",placeholder:"crie uma senha",value:i,onChange:v=>o(v.target.value),className:"mt-1 w-full h-12 rounded-2xl border border-gray-200 px-4 text-base shadow-inner shadow-gray-200 focus:outline-none focus:ring-2 focus:ring-blueTop"})]}),c.jsxs("label",{className:"block",children:[c.jsx("span",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Confirmar senha"}),c.jsx("input",{type:"password",placeholder:"repita a senha",value:a,onChange:v=>l(v.target.value),className:"mt-1 w-full h-12 rounded-2xl border border-gray-200 px-4 text-base shadow-inner shadow-gray-200 focus:outline-none focus:ring-2 focus:ring-blueTop"})]}),h&&c.jsx("div",{className:"text-center text-red-600 text-sm",children:h}),c.jsx("button",{disabled:u,onClick:async()=>{var v,w;try{if(f(""),!n||!i||!e)throw new Error("Preencha nome, email e senha");if(i!==a)throw new Error("As senhas no conferem");d(!0);const{data:y,error:x}=await F.auth.signUp({email:n,password:i,options:{data:{nome:e}}});if(x)throw x;const m=(v=y==null?void 0:y.user)==null?void 0:v.id,p=((w=y==null?void 0:y.user)==null?void 0:w.email)||n;m&&await F.from("perfil").upsert({id_user:m,nome:e,email:p},{onConflict:"id_user"}),t("/options")}catch(y){f(y.message||"Falha ao cadastrar")}finally{d(!1)}},className:"w-full h-12 rounded-2xl bg-accent text-black font-semibold tracking-wide border border-amber-700/40 shadow hover:brightness-95 disabled:opacity-60",children:u?"Cadastrando...":"CADASTRAR"})]})]})})]})}function Vt({size:t=20,className:e=""}){const[r,n]=S.useState(null);return S.useEffect(()=>{let s=!0;async function i(){try{const{data:o,error:a}=await F.auth.getUser();if(a)throw a;const l=o==null?void 0:o.user;if(!l||!s)return;const{data:u,error:d}=await F.from("perfil").select("foto").eq("id_user",l.id).maybeSingle();if(d)throw d;s&&n((u==null?void 0:u.foto)||null)}catch{s&&n(null)}}return i(),()=>{s=!1}},[]),r?c.jsx("img",{src:r,alt:"Foto do perfil",className:`rounded-full object-cover ${e}`,style:{width:t,height:t}}):c.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[c.jsx("circle",{cx:"12",cy:"8",r:"4"}),c.jsx("path",{d:"M6 20a6 6 0 0 1 12 0"})]})}function Yi(){const[t,e]=S.useState(!1),[r,n]=S.useState(!1);return S.useEffect(()=>{let s=!0;return(async()=>{try{const{data:i,error:o}=await F.auth.getUser();if(o)throw o;const a=i==null?void 0:i.user;if(!a){s&&(e(!1),n(!0));return}const{data:l,error:u}=await F.from("perfil").select("adm").eq("id_user",a.id).maybeSingle();if(u)throw u;s&&(e(!!(l!=null&&l.adm)),n(!0))}catch(i){s&&(console.warn("Falha ao checar permisses",i),e(!1),n(!0))}})(),()=>{s=!1}},[]),{isAdmin:t,checked:r}}function Rw(){const t=it(),{isAdmin:e}=Yi(),[r,n]=S.useState(!0),[s,i]=S.useState(""),[o,a]=S.useState(null),[l,u]=S.useState([]),[d,h]=S.useState("loading");S.useEffect(()=>{let v=!0;async function w(){var y;try{n(!0),i(""),h("loading");const{data:x,error:m}=await F.auth.getUser();if(m)throw m;const p=(y=x==null?void 0:x.user)==null?void 0:y.id;if(!p)throw new Error("Faa login para ver as lanchonetes.");const{data:g,error:_}=await F.from("perfil").select("id_escola, escola:escola(nome_escola)").eq("id_user",p).maybeSingle();if(_)throw _;if(!(g!=null&&g.id_escola)){v&&(h("waiting"),a(null),u([]));return}v&&a(g.escola||null);const{data:E,error:b}=await F.from("lanchonete").select("id_lanchonete,nome_lanchonete,id_escola").eq("id_escola",g.id_escola).order("nome_lanchonete",{ascending:!0});if(b)throw b;v&&(u(E||[]),h(E&&E.length?"ready":"empty"))}catch(x){console.error("Falha ao carregar lanchonetes",x),v&&(i(x.message||"No foi possvel carregar as lanchonetes."),h("empty"))}finally{v&&n(!1)}}return w(),()=>{v=!1}},[]);const f=S.useMemo(()=>(l||[]).map(v=>{const w=(v.nome_lanchonete||"").toLowerCase();let y=null,x=null;return w.includes("sesc")?(y="/sesc",x="/assets/Sesc.png"):w.includes("senac")&&(y="/senac",x="/assets/Senac.png"),{...v,path:y,asset:x}}),[l]);return c.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-blueTop/80 via-blue-50/60 to-white flex flex-col overflow-hidden",children:[c.jsxs("header",{className:"relative bg-gradient-to-b from-blueTop to-[#5f88db] pt-5 pb-20 md:pt-7 md:pb-28 border-b border-black/20 shadow",children:[c.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative",children:[c.jsx("button",{"aria-label":"voltar",onClick:()=>t(-1),className:"absolute left-4 top-5 text-black/80",children:c.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsxs("div",{className:"flex items-center justify-center gap-5 mt-10 md:mt-14 flex-wrap",children:[c.jsxs("button",{onClick:()=>t("/options"),className:"inline-flex items-center gap-2 px-5 md:px-6 py-2.5 md:py-3 bg-white rounded-full shadow border text-sm md:text-base font-semibold tracking-wide",children:[c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M3 6h18v2H3V6zm0 5h18v2H3v-2zm0 5h12v2H3v-2z"})}),"LANCHONETES"]}),c.jsxs("button",{onClick:()=>t("/cart"),className:"inline-flex items-center gap-2 px-5 md:px-6 py-2.5 md:py-3 bg-white rounded-full shadow border text-sm md:text-base font-semibold tracking-wide",children:[c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M7 18a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm10 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM3 4h2l3.6 7.59L7.25 14H19a1 1 0 0 0 0-2H9.42l.93-2H18a1 1 0 1 0 0-2H9L7.21 4H3z"})}),"CARRINHO"]}),c.jsxs("button",{onClick:()=>t("/perfil"),className:"inline-flex items-center gap-2 px-5 md:px-6 py-2.5 md:py-3 bg-white rounded-full shadow border text-sm md:text-base font-semibold tracking-wide",children:[c.jsx(Vt,{size:20}),"PERFIL"]}),e&&c.jsxs("button",{onClick:()=>t("/admin"),className:"inline-flex items-center gap-2 px-5 md:px-6 py-2.5 md:py-3 bg-white rounded-full shadow border text-sm md:text-base font-semibold tracking-wide",children:[c.jsx(Vt,{size:20}),"ADMINISTRAR"]})]}),c.jsx("div",{className:"absolute right-4 md:right-6 top-3 md:top-4 bg-white rounded-md px-4 py-2 shadow border",children:c.jsx("img",{src:"/assets/SescSenac.png",alt:"Sesc Senac",className:"h-10 md:h-12"})})]}),c.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 -bottom-5",children:c.jsx("div",{className:"px-10 py-3 bg-white rounded-full shadow border text-lg md:text-xl font-semibold tracking-wide",children:"LANCHONETES"})})]}),c.jsx("main",{className:"flex-1 bg-transparent pt-28 md:pt-36 pb-18 md:pb-20",children:c.jsxs("div",{className:"max-w-6xl mx-auto px-8",children:[d==="loading"&&c.jsx("div",{className:"text-center text-gray-600",children:"Carregando lanchonetes..."}),d==="waiting"&&c.jsx("div",{className:"text-center text-gray-700 bg-white/80 backdrop-blur rounded-2xl shadow-panel p-6 border border-white/50",children:"Espere at ser atribudo a uma escola para ver as lanchonetes."}),d==="empty"&&!r&&!s&&c.jsx("div",{className:"text-center text-gray-700 bg-white/80 backdrop-blur rounded-2xl shadow-panel p-6 border border-white/50",children:"Nenhuma lanchonete disponvel para sua escola no momento."}),s&&c.jsx("div",{className:"text-center text-red-600 bg-white/80 backdrop-blur rounded-2xl shadow-panel p-6 border border-white/50",children:s}),d==="ready"&&c.jsx("div",{className:"grid sm:grid-cols-2 gap-10 justify-items-center",children:f.map(v=>v.path?c.jsxs(wf,{to:v.path,className:"bg-white/90 backdrop-blur rounded-2xl shadow-panel p-4 hover:shadow-lg transition w-[340px] md:w-[420px] border border-white/50",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("span",{className:"text-sm text-gray-500",children:(o==null?void 0:o.nome_escola)||"Escola"}),c.jsx("span",{className:"px-3 py-1 rounded-full bg-blue-50 text-blue-700 text-xs font-semibold border border-blue-100",children:"Lanchonete"})]}),c.jsx("div",{className:"text-xl font-semibold text-gray-800 mb-3",children:v.nome_lanchonete}),c.jsx("div",{className:"h-56 md:h-60 bg-gray-50 rounded-xl flex items-center justify-center border border-dashed overflow-hidden",children:v.asset?c.jsx("img",{src:v.asset,alt:v.nome_lanchonete,className:"h-full object-contain"}):c.jsxs("span",{className:"text-gray-400 text-sm",children:["Acessar ",v.nome_lanchonete]})})]},v.id_lanchonete):c.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-2xl shadow-panel p-4 w-[340px] md:w-[420px] border border-white/50",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("span",{className:"text-sm text-gray-500",children:(o==null?void 0:o.nome_escola)||"Escola"}),c.jsx("span",{className:"px-3 py-1 rounded-full bg-gray-100 text-gray-600 text-xs font-semibold border border-gray-200",children:"Sem rota"})]}),c.jsx("div",{className:"text-xl font-semibold text-gray-800 mb-3",children:v.nome_lanchonete}),c.jsx("div",{className:"h-56 md:h-60 bg-gray-50 rounded-xl flex items-center justify-center border border-dashed text-gray-500 text-sm overflow-hidden",children:v.asset?c.jsx("img",{src:v.asset,alt:v.nome_lanchonete,className:"h-full object-contain"}):"Rota no configurada para esta lanchonete."})]},v.id_lanchonete))})]})}),c.jsx("footer",{className:"h-28 md:h-32 bg-gradient-to-t from-blueTop to-[#5f88db]"})]})}function Ep({product:t,onClose:e,onAdd:r}){const[n,s]=S.useState(1);if(!t)return null;const i=()=>{const a=Math.max(1,n||1);r==null||r(t,a),e==null||e()},o=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t.price||0);return c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[c.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:e}),c.jsxs("div",{className:"relative z-10 w-full max-w-xl mx-4 bg-white rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[c.jsx("div",{className:"w-full bg-gray-200 flex-shrink-0",children:t.image?c.jsx("img",{src:t.image,alt:t.name,className:"w-full h-60 md:h-72 object-cover"}):c.jsx("div",{className:"w-full h-60 md:h-72 flex items-center justify-center text-gray-500",children:"imagem do produto"})}),c.jsxs("div",{className:"p-5 md:p-6 space-y-4 overflow-y-auto",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-lg md:text-xl font-bold text-gray-900",children:t.name||"Produto"}),c.jsx("div",{className:"text-blueTop font-semibold",children:o})]}),c.jsx("p",{className:"text-sm md:text-base text-gray-700 leading-relaxed",style:{whiteSpace:"normal",wordBreak:"break-word"},children:t.desc||"Sem descricao."}),c.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[c.jsx("span",{className:"text-sm font-semibold text-gray-800",children:"Quantidade"}),c.jsxs("div",{className:"inline-flex items-center border rounded-md overflow-hidden",children:[c.jsx("button",{onClick:()=>s(a=>Math.max(1,(Number(a)||1)-1)),className:"px-3 py-1.5 select-none",children:"-"}),c.jsx("input",{className:"w-12 text-center outline-none py-1.5",value:n,onChange:a=>s(Number(a.target.value)||1)}),c.jsx("button",{onClick:()=>s(a=>(Number(a)||1)+1),className:"px-3 py-1.5 select-none",children:"+"})]})]}),c.jsxs("div",{className:"pt-2 flex justify-end gap-3",children:[c.jsx("button",{onClick:e,className:"px-4 py-2 rounded-md border shadow bg-white",children:"Cancelar"}),c.jsx("button",{onClick:i,className:"px-6 py-2 rounded-md bg-accent text-black font-semibold border border-amber-700/40 shadow",children:"Adicionar"})]})]})]})]})}const jp=S.createContext(null);function Aw({children:t}){const[e,r]=S.useState([]),n=(l,u=1)=>{const d=(l==null?void 0:l.name)??"Produto",h=Lw(l==null?void 0:l.price),f=Iw(h),v=(l==null?void 0:l.id)??`${d}-${f}`;r(w=>{const y=w.findIndex(x=>x.id===v);if(y>=0){const x=w.slice();return x[y]={...x[y],qty:x[y].qty+u},x}return[...w,{id:v,name:d,image:l==null?void 0:l.image,priceLabel:h,price:f,qty:u,lanchoneteId:l==null?void 0:l.lanchoneteId}]})},s=l=>r(u=>u.filter(d=>d.id!==l)),i=()=>r([]),o=S.useMemo(()=>e.reduce((l,u)=>l+u.price*u.qty,0),[e]),a=S.useMemo(()=>({items:e,addItem:n,removeItem:s,clearCart:i,total:o}),[e,o]);return c.jsx(jp.Provider,{value:a,children:t})}function Yl(){const t=S.useContext(jp);if(!t)throw new Error("useCart");return t}function Iw(t){if(typeof t=="number")return t;if(!t)return 0;const e=Number(String(t).replace(/[^0-9,.-]/g,"").replace(/\./g,"").replace(/,/,"."));return Number.isFinite(e)?e:0}function Ti(t){try{return t.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}catch{return`R$ ${t.toFixed(2)}`.replace(".",",")}}function Lw(t){return typeof t=="number"?Ti(t):t?String(t):"R$ 0,00"}async function Cp(){const{data:t,error:e}=await F.from("produto").select("*").order("created_at",{ascending:!1});if(!e&&t)return t.map(Wc);const r=["produtos","products","itens","items"];for(const n of r){const{data:s,error:i}=await F.from(n).select("*");if(!i&&s)return s.map(Wc)}throw e||new Error("Tabela de produtos no encontrada")}function Wc(t){const e=t.nome_produto??t.name??t.nome??"Produto",r=t.descricao??t.desc??"",n=t.preco??t.price??0,s=t.img??t.image??null,i=t.categoria??t.category??null,o=Uw(i),a=t.id??t.id_produto??`${e}-${n}`,l=typeof n=="number"?n:parseFloat(String(n).replace(/[^0-9,.-]/g,"").replace(/\./g,"").replace(/,/,"."))||0;return{id:a,name:e,desc:r,price:l,image:s,tags:o,lanchoneteId:t.lanchonete_id??null,_raw:t}}const $w={bebida:["bebidas","drink","drinks"],salgado:["salgados"],doce:["doces","sobremesa","sobremesas"],vegetariano:["vegetariano","vegetarianos","veg","veggie"]};function Uw(t){if(!t)return null;const e=String(t).trim().toLowerCase();if(!e)return null;const r=new Set([e]),n=$w[e];return Array.isArray(n)&&n.forEach(s=>r.add(s)),e.endsWith("s")?r.add(e.replace(/s$/,"")):r.add(`${e}s`),Array.from(r)}const Dw=6;function zw(){const{addItem:t}=Yl(),e=it(),{isAdmin:r}=Yi(),[n,s]=S.useState(!1),[i,o]=S.useState(""),[a,l]=S.useState(null),[u,d]=S.useState([]),[h,f]=S.useState(!0),[v,w]=S.useState("");S.useEffect(()=>{let m=!0;return(async()=>{try{w(""),f(!0);const p=await Cp();if(m){const g=p.map(_=>({..._,lanchoneteId:Dw}));d(g)}}catch(p){m&&(console.error(p),w(p.message||"Falha ao carregar produtos"))}finally{m&&f(!1)}})(),()=>{m=!1}},[]);const y=m=>m.toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),""),x=S.useMemo(()=>{if(!i)return u;const m=y(i);return["bebidas","bebida","salgados","salgado","doces","doce","vegetariano","vegetarianos","veg","veggie"].includes(m)?u.filter(g=>Array.isArray(g.tags)&&g.tags.some(_=>_===m)):u.filter(g=>y(g.name+" "+g.desc).includes(m))},[i,u]);return c.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[c.jsx("header",{className:"relative bg-gradient-to-b from-blueTop to-[#5f88db] pt-4 pb-8 border-b border-black/20 shadow",children:c.jsxs("div",{className:"max-w-6xl mx-auto px-4 relative",children:[c.jsx("button",{"aria-label":"voltar",onClick:()=>e(-1),className:"absolute left-2 top-3 text-black/80",children:c.jsx("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsxs("div",{className:"flex items-center justify-center gap-3 flex-wrap",children:[c.jsxs("button",{onClick:()=>e("/options"),className:"inline-flex items-center gap-2 px-4 py-2 bg-white rounded-full shadow border text-xs md:text-sm font-semibold tracking-wide",children:[c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M3 6h18v2H3V6zm0 5h18v2H3v-2zm0 5h12v2H3v-2z"})}),"LANCHONETES"]}),c.jsxs("button",{onClick:()=>e("/cart"),className:"inline-flex items-center gap-2 px-4 py-2 bg-white rounded-full shadow border text-xs md:text-sm font-semibold tracking-wide",children:[c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M7 18a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm10 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM3 4h2l3.6 7.59L7.25 14H19a1 1 0 0 0 0-2H9.42l.93-2H18a1 1 0 1 0 0-2H9L7.21 4H3z"})}),"CARRINHO"]}),c.jsxs("button",{onClick:()=>e("/perfil"),className:"inline-flex items-center gap-2 px-4 py-2 bg-white rounded-full shadow border text-xs md:text-sm font-semibold tracking-wide",children:[c.jsx(Vt,{size:16}),"PERFIL"]}),r&&c.jsxs("button",{onClick:()=>e("/admin"),className:"inline-flex items-center gap-2 px-4 py-2 bg-white rounded-full shadow border text-xs md:text-sm font-semibold tracking-wide",children:[c.jsx(Vt,{size:16}),"ADMINISTRAR"]})]}),c.jsx("div",{className:"absolute right-2 top-2 bg-white rounded-md px-3 py-1 shadow border",children:c.jsx("img",{src:"/assets/Sesc.png",alt:"Sesc",className:"h-8"})}),c.jsx("div",{className:"mt-3 flex justify-center",children:c.jsx("div",{className:"px-6 py-1.5 bg-white rounded-full shadow border text-[13px] tracking-wide",children:"CARDAPIO SESC"})})]})}),c.jsx("main",{className:"flex-1 bg-transparent",children:c.jsxs("div",{className:"max-w-5xl mx-auto px-3 md:px-4 mt-8 md:mt-10",children:[c.jsx("div",{className:"flex items-center justify-between mb-3",children:c.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-md border shadow bg-white text-sm",children:[c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M3 4h18v2H3V4zm3 7h12v2H6v-2zm3 7h6v2H9v-2z"})}),"FILTRAR"]})}),c.jsx("div",{className:"bg-white rounded-3xl shadow-2xl ring-1 ring-black/5 p-4 md:p-6",children:c.jsxs("div",{className:"grid md:grid-cols-2 gap-4 md:gap-6",children:[h&&c.jsx("div",{className:"col-span-full text-center text-sm text-gray-600",children:"carregando..."}),v&&c.jsx("div",{className:"col-span-full text-center text-sm text-red-600",children:v}),x.length===0&&c.jsx("div",{className:"col-span-full text-center text-sm text-gray-600",children:"Nenhum item encontrado."}),x.map(m=>c.jsxs("button",{onClick:()=>l(m),className:"text-left flex items-center gap-4 md:gap-5 rounded-2xl border border-gray-200 bg-white shadow p-4 md:p-5 hover:translate-y-0.5 transition-transform",children:[c.jsx("div",{className:"w-28 h-24 md:w-32 md:h-24 rounded-md bg-gray-200 overflow-hidden flex-shrink-0",children:m.image?c.jsx("img",{src:m.image,alt:m.name,className:"w-full h-full object-cover"}):null}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"text-base md:text-lg font-semibold text-gray-800",children:m.name}),c.jsx("div",{className:"text-sm md:text-base text-gray-600 text-clamp-3 min-h-[3.5rem]",children:m.desc})]}),c.jsxs("div",{className:"text-sm md:text-base text-gray-700 font-semibold whitespace-nowrap",children:["R$ ",m.price.toFixed(2)]})]},m.id))]})})]})}),n&&c.jsxs("div",{className:"fixed inset-0 z-40 flex items-center justify-center",children:[c.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>s(!1)}),c.jsxs("div",{className:"relative z-50 w-full max-w-md mx-4 rounded-xl shadow-2xl p-6 bg-blueBottom",children:[c.jsx("div",{className:"flex justify-center -mt-8 mb-6",children:c.jsx("div",{className:"px-6 py-1.5 bg-white rounded-full shadow border text-[13px] tracking-wide",children:"OPCOES"})}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("button",{onClick:()=>{o("bebidas"),s(!1)},className:"block w-64 mx-auto px-4 py-2.5 rounded-md bg-accent text-black font-semibold shadow border",children:"Bebidas"}),c.jsx("button",{onClick:()=>{o("salgados"),s(!1)},className:"block w-64 mx-auto px-4 py-2.5 rounded-md bg-accent text-black font-semibold shadow border",children:"Salgados"}),c.jsx("button",{onClick:()=>{o("doces"),s(!1)},className:"block w-64 mx-auto px-4 py-2.5 rounded-md bg-accent text-black font-semibold shadow border",children:"Doces"}),c.jsx("button",{onClick:()=>{o("vegetariano"),s(!1)},className:"block w-64 mx-auto px-4 py-2.5 rounded-md bg-accent text-black font-semibold shadow border",children:"Vegetariano"}),c.jsx("div",{className:"text-center pt-2",children:c.jsx("button",{onClick:()=>{o(""),s(!1)},className:"text-white/90 underline",children:"limpar filtro"})})]})]})]}),a&&c.jsx(Ep,{product:a,onClose:()=>l(null),onAdd:(m,p)=>{t(m,p)}}),c.jsx("footer",{className:"h-24 bg-gradient-to-t from-blueTop to-[#5f88db]"})]})}const Fw=7;function Bw(){const{addItem:t}=Yl(),e=it(),{isAdmin:r}=Yi(),[n,s]=S.useState(!1),[i,o]=S.useState(""),[a,l]=S.useState(null),[u,d]=S.useState([]),[h,f]=S.useState(!0),[v,w]=S.useState("");S.useEffect(()=>{let m=!0;return(async()=>{try{w(""),f(!0);const p=await Cp();if(m){const g=p.map(_=>({..._,lanchoneteId:Fw}));d(g)}}catch(p){m&&(console.error(p),w(p.message||"Falha ao carregar produtos"))}finally{m&&f(!1)}})(),()=>{m=!1}},[]);const y=m=>m.toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),""),x=S.useMemo(()=>{if(!i)return u;const m=y(i);return["bebidas","bebida","salgados","salgado","doces","doce","vegetariano","vegetarianos","veg","veggie"].includes(m)?u.filter(g=>Array.isArray(g.tags)&&g.tags.some(_=>_===m)):u.filter(g=>y(g.name+" "+g.desc).includes(m))},[i,u]);return c.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[c.jsx("header",{className:"relative bg-gradient-to-b from-blueTop to-[#5f88db] pt-4 pb-8 border-b border-black/20 shadow",children:c.jsxs("div",{className:"max-w-6xl mx-auto px-4 relative",children:[c.jsx("button",{"aria-label":"voltar",onClick:()=>e(-1),className:"absolute left-2 top-3 text-black/80",children:c.jsx("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsxs("div",{className:"flex items-center justify-center gap-3 flex-wrap",children:[c.jsxs("button",{onClick:()=>e("/options"),className:"inline-flex items-center gap-2 px-4 py-2 bg-white rounded-full shadow border text-xs md:text-sm font-semibold tracking-wide",children:[c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M3 6h18v2H3V6zm0 5h18v2H3v-2zm0 5h12v2H3v-2z"})}),"LANCHONETES"]}),c.jsxs("button",{onClick:()=>e("/cart"),className:"inline-flex items-center gap-2 px-4 py-2 bg-white rounded-full shadow border text-xs md:text-sm font-semibold tracking-wide",children:[c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M7 18a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm10 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM3 4h2l3.6 7.59L7.25 14H19a1 1 0 0 0 0-2H9.42l.93-2H18a1 1 0 1 0 0-2H9L7.21 4H3z"})}),"CARRINHO"]}),c.jsxs("button",{onClick:()=>e("/perfil"),className:"inline-flex items-center gap-2 px-4 py-2 bg-white rounded-full shadow border text-xs md:text-sm font-semibold tracking-wide",children:[c.jsx(Vt,{size:16}),"PERFIL"]}),r&&c.jsxs("button",{onClick:()=>e("/admin"),className:"inline-flex items-center gap-2 px-4 py-2 bg-white rounded-full shadow border text-xs md:text-sm font-semibold tracking-wide",children:[c.jsx(Vt,{size:16}),"ADMINISTRAR"]})]}),c.jsx("div",{className:"absolute right-2 top-2 bg-white rounded-md px-3 py-1 shadow border",children:c.jsx("img",{src:"/assets/Senac.png",alt:"Senac",className:"h-8"})}),c.jsx("div",{className:"mt-3 flex justify-center",children:c.jsx("div",{className:"px-6 py-1.5 bg-white rounded-full shadow border text-[13px] tracking-wide",children:"CARDAPIO SENAC"})})]})}),c.jsx("main",{className:"flex-1 bg-transparent",children:c.jsxs("div",{className:"max-w-5xl mx-auto px-3 md:px-4 mt-8 md:mt-10",children:[c.jsx("div",{className:"flex items-center justify-between mb-3",children:c.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-md border shadow bg-white text-sm",children:[c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M3 4h18v2H3V4zm3 7h12v2H6v-2zm3 7h6v2H9v-2z"})}),"FILTRAR"]})}),c.jsx("div",{className:"bg-white rounded-3xl shadow-2xl ring-1 ring-black/5 p-4 md:p-6",children:c.jsxs("div",{className:"grid md:grid-cols-2 gap-4 md:gap-6",children:[h&&c.jsx("div",{className:"col-span-full text-center text-sm text-gray-600",children:"carregando..."}),v&&c.jsx("div",{className:"col-span-full text-center text-sm text-red-600",children:v}),x.length===0&&c.jsx("div",{className:"col-span-full text-center text-sm text-gray-600",children:"Nenhum item encontrado."}),x.map(m=>c.jsxs("button",{onClick:()=>l(m),className:"text-left flex items-center gap-4 md:gap-5 rounded-2xl border border-gray-200 bg-white shadow p-4 md:p-5 hover:translate-y-0.5 transition-transform",children:[c.jsx("div",{className:"w-28 h-24 md:w-32 md:h-24 rounded-md bg-gray-200 overflow-hidden flex-shrink-0",children:m.image?c.jsx("img",{src:m.image,alt:m.name,className:"w-full h-full object-cover"}):null}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"text-base md:text-lg font-semibold text-gray-800",children:m.name}),c.jsx("div",{className:"text-sm md:text-base text-gray-600 text-clamp-3 min-h-[3.5rem]",children:m.desc})]}),c.jsxs("div",{className:"text-sm md:text-base text-gray-700 font-semibold whitespace-nowrap",children:["R$ ",m.price.toFixed(2)]})]},m.id))]})})]})}),n&&c.jsxs("div",{className:"fixed inset-0 z-40 flex items-center justify-center",children:[c.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>s(!1)}),c.jsxs("div",{className:"relative z-50 w-full max-w-md mx-4 rounded-xl shadow-2xl p-6 bg-blueBottom",children:[c.jsx("div",{className:"flex justify-center -mt-8 mb-6",children:c.jsx("div",{className:"px-6 py-1.5 bg-white rounded-full shadow border text-[13px] tracking-wide",children:"OPCOES"})}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("button",{onClick:()=>{o("bebidas"),s(!1)},className:"block w-64 mx-auto px-4 py-2.5 rounded-md bg-accent text-black font-semibold shadow border",children:"Bebidas"}),c.jsx("button",{onClick:()=>{o("salgados"),s(!1)},className:"block w-64 mx-auto px-4 py-2.5 rounded-md bg-accent text-black font-semibold shadow border",children:"Salgados"}),c.jsx("button",{onClick:()=>{o("doces"),s(!1)},className:"block w-64 mx-auto px-4 py-2.5 rounded-md bg-accent text-black font-semibold shadow border",children:"Doces"}),c.jsx("button",{onClick:()=>{o("vegetariano"),s(!1)},className:"block w-64 mx-auto px-4 py-2.5 rounded-md bg-accent text-black font-semibold shadow border",children:"Vegetariano"}),c.jsx("div",{className:"text-center pt-2",children:c.jsx("button",{onClick:()=>{o(""),s(!1)},className:"text-white/90 underline",children:"limpar filtro"})})]})]})]}),a&&c.jsx(Ep,{product:a,onClose:()=>l(null),onAdd:(m,p)=>{t(m,p)}}),c.jsx("footer",{className:"h-24 bg-gradient-to-t from-blueTop to-[#5f88db]"})]})}const Fs=["nome","idade","cep","cidade","estado","rua","bairro","complemento","sexo","telefone","foto"],$o={nome:"nome",idade:"idade",cep:"cep",cidade:"cidade",estado:"estado",rua:"rua",bairro:"bairro",complemento:"complemento",sexo:"sexo",telefone:"telefone",foto:"",email:"email"},Mw={nome:["full_name","display_name"],idade:["age"],cep:["zip","postal_code"],cidade:["city"],estado:["state","uf"],rua:["street","address","logradouro"],bairro:["district","neighborhood"],complemento:["complement","address_complement"],sexo:["gender"],telefone:["phone","celular"],foto:["foto","avatar"]};function Vw(t,e){const r=[e,...Mw[e]||[]];for(const n of r){const s=t==null?void 0:t[n];if($n(s))return Oi(s);if(typeof n=="string"){const i=t==null?void 0:t[n.toLowerCase()];if($n(i))return Oi(i)}}return""}function $n(t){return typeof t=="number"?!0:typeof t=="string"?t.trim().length>0:!1}function Oi(t){return typeof t=="number"?String(t):t}function Ww(){const t=it(),[e,r]=S.useState({nome:"",idade:"",cep:"",cidade:"",estado:"",rua:"",bairro:"",complemento:"",sexo:"",telefone:"",email:"",senha:"",confirmar:"",foto:""}),[n,s]=S.useState($o),[i,o]=S.useState(!1),[a,l]=S.useState(!1),[u,d]=S.useState(""),[h,f]=S.useState(!1),[v,w]=S.useState(null),[y,x]=S.useState(null),[m,p]=S.useState(!1),g=k=>j=>r(O=>({...O,[k]:j.target.value})),_=e.nome||n.nome||"nome";S.useEffect(()=>{let k=!0;async function j(){try{const{data:O,error:R}=await F.auth.getUser();if(R)throw R;const z=O==null?void 0:O.user;if(!z||!k)return;x(z.id);const de=z.user_metadata||{},W={...$o};Fs.forEach(xe=>{const X=Vw(de,xe);X&&(W[xe]=X)}),z.email&&(W.email=z.email,(!W.nome||W.nome===$o.nome)&&(W.nome=z.email));let Ke=W;try{const{data:xe,error:X}=await F.from("perfil").select("*").eq("id_user",z.id).maybeSingle();if(X)throw X;xe&&(f(!0),p(!!xe.adm),Ke={...W},Fs.forEach(me=>{const N=xe[me];$n(N)&&(Ke[me]=Oi(N))}),$n(xe.email)&&(Ke.email=Oi(xe.email)))}catch(xe){console.warn("Falha ao buscar perfil detalhado, usando apenas dados bsicos",xe)}k&&(s(Ke),w(Ke.foto||null))}catch(O){console.error("Falha ao carregar usurio ativo",O)}}return j(),()=>{k=!1}},[]);const E=async()=>{var k,j;if(!a)try{d(""),l(!0);const{data:O,error:R}=await F.auth.getUser();if(R)throw R;const z=(k=O==null?void 0:O.user)==null?void 0:k.id;if(!z)throw new Error("Faa login para atualizar o perfil.");const de=(j=O==null?void 0:O.user)==null?void 0:j.email,W={id_user:z};if(Fs.forEach(X=>{if(X==="email")return;const me=e[X];$n(me)&&(W[X]=me)}),de&&(W.email=de),!Object.keys(W).some(X=>X!=="id_user")){d("Preencha algum campo para atualizar.");return}const{data:Ke,error:xe}=await F.from("perfil").update(W).eq("id_user",z).select("id_user");if(xe)throw xe;if(!Ke||Ke.length===0){const{error:X}=await F.from("perfil").insert(W);if(X)throw X}f(!0),s(X=>{const me={...X};return Object.keys(W).forEach(N=>{N in me&&N!=="id_user"&&(me[N]=W[N])}),de&&(me.email=de),me}),W.foto&&w(W.foto),r(X=>({...X,...Fs.reduce((me,N)=>({...me,[N]:""}),{}),senha:"",confirmar:""}))}catch(O){console.error("Falha ao salvar perfil",O),d(O.message||"Erro ao salvar perfil.")}finally{l(!1)}},b=async()=>{if(!i)try{o(!0),await F.auth.signOut(),t("/login",{replace:!0})}catch(k){console.error("Falha ao sair",k),alert(k.message||"No foi possvel sair. Tente novamente.")}finally{o(!1)}};return c.jsxs("div",{className:"relative min-h-screen bg-gradient-to-b from-blueTop/80 via-blue-50/60 to-white overflow-hidden",children:[c.jsx(wr,{className:"absolute inset-x-0 bottom-0 w-full h-56 md:h-72 lg:h-80 pointer-events-none select-none"}),c.jsx("div",{className:"relative z-10 max-w-4xl mx-auto pt-6 px-4",children:c.jsxs("button",{"aria-label":"voltar",onClick:()=>t(-1),className:"inline-flex items-center gap-2 bg-white/80 rounded-full px-4 py-2 shadow border text-sm text-gray-600",children:[c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})}),"voltar"]})}),c.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto px-4 mt-4 pb-28 space-y-6",children:[c.jsxs("section",{className:"bg-white/90 backdrop-blur rounded-3xl shadow-2xl ring-1 ring-black/5 p-6 flex flex-col items-center gap-4",children:[c.jsxs("label",{htmlFor:"foto-input",className:"relative w-36 h-36 rounded-3xl bg-blue-50 border border-blue-100 flex items-center justify-center cursor-pointer overflow-hidden",children:[v||n.foto?c.jsx("img",{src:v||n.foto,alt:"foto de perfil",className:"w-full h-full object-cover"}):c.jsxs("svg",{width:"90",height:"90",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"8",r:"4"}),c.jsx("path",{d:"M6 20a6 6 0 0 1 12 0"})]}),c.jsx("input",{id:"foto-input",type:"file",accept:"image/*",className:"hidden",onChange:k=>{var O;const j=(O=k.target.files)==null?void 0:O[0];if(j){const R=new FileReader;R.onload=()=>{const z=R.result;w(z),r(de=>({...de,foto:z}))},R.readAsDataURL(j)}}})]}),c.jsx("div",{className:"text-lg font-semibold text-gray-900",children:_})]}),c.jsxs("section",{className:"bg-white/90 backdrop-blur rounded-3xl shadow-2xl ring-1 ring-black/5 p-6",children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsx("input",{placeholder:n.email,value:n.email,readOnly:!0,className:"input md:col-span-2 bg-gray-100 cursor-not-allowed"}),c.jsx("input",{placeholder:n.nome,value:e.nome,onChange:g("nome"),className:"input"}),c.jsx("input",{placeholder:n.idade,value:e.idade,onChange:g("idade"),className:"input"}),c.jsx("input",{placeholder:n.cep,value:e.cep,onChange:g("cep"),className:"input"}),c.jsx("input",{placeholder:n.cidade,value:e.cidade,onChange:g("cidade"),className:"input"}),c.jsx("input",{placeholder:n.estado,value:e.estado,onChange:g("estado"),className:"input"}),c.jsx("input",{placeholder:n.rua,value:e.rua,onChange:g("rua"),className:"input"}),c.jsx("input",{placeholder:n.bairro,value:e.bairro,onChange:g("bairro"),className:"input"}),c.jsx("input",{placeholder:n.complemento,value:e.complemento,onChange:g("complemento"),className:"input"}),c.jsx("input",{placeholder:n.sexo,value:e.sexo,onChange:g("sexo"),className:"input"}),c.jsx("input",{placeholder:n.telefone,value:e.telefone,onChange:g("telefone"),className:"input"}),c.jsx("input",{type:"password",placeholder:"senha",value:e.senha,onChange:g("senha"),className:"input md:col-span-2"}),c.jsx("input",{type:"password",placeholder:"confirmar senha",value:e.confirmar,onChange:g("confirmar"),className:"input md:col-span-2"})]}),c.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[c.jsx(wf,{to:"/historico",className:"text-accent underline",children:"Ver historico de compras"}),c.jsx("button",{disabled:a,onClick:E,className:"px-5 py-3 rounded-2xl bg-accent text-black font-semibold border border-amber-700/40 shadow hover:brightness-95 disabled:opacity-60",children:a?"SALVANDO...":"CONFIRMAR"})]}),u&&c.jsx("div",{className:"mt-2 text-sm text-red-600",children:u}),c.jsx("button",{onClick:b,disabled:i,className:"w-full mt-4 h-11 rounded-2xl bg-gray-800 text-white text-sm tracking-wide border border-gray-900/50 shadow hover:brightness-110 disabled:opacity-60",children:i?"Saindo...":"SAIR DA CONTA"})]})]}),c.jsx("style",{children:".input{height:3rem;padding:0 1rem;border:1px solid #d1d5db;border-radius:.5rem;box-shadow:0 1px 3px rgba(0,0,0,.1);}"})]})}function Hw(t){try{const e=new Date(t),r=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),s=e.getFullYear();return`${r}/${n}/${s}`}catch{return t}}function qw(){const t=it(),[e,r]=S.useState([]),[n,s]=S.useState(!0),[i,o]=S.useState("");S.useEffect(()=>{let u=!0;async function d(){try{o(""),s(!0);const{data:h,error:f}=await F.auth.getUser();if(f)throw f;const v=h==null?void 0:h.user;if(!v){o("Faa login para ver seu histrico."),r([]);return}const{data:w,error:y}=await F.from("pedido").select("id_pedido, created_at").eq("id_user_cliente",v.id).order("created_at",{ascending:!1});if(y)throw y;if(!(w!=null&&w.length)){r([]);return}const x=w.map(b=>b.id_pedido),{data:m,error:p}=await F.from("itens_pedido").select("id_pedido, id_produto, quantidade, preco_unitario").in("id_pedido",x);if(p)throw p;if(!(m!=null&&m.length)){r([]);return}const g=Array.from(new Set(m.map(b=>b.id_produto).filter(Boolean)));let _=new Map;if(g.length){const{data:b,error:k}=await F.from("produto").select("id_produto, nome_produto, img").in("id_produto",g);if(k)throw k;b==null||b.forEach(j=>_.set(j.id_produto,j))}const E=m.map(b=>{const k=w.find(O=>O.id_pedido===b.id_pedido),j=_.get(b.id_produto);return{id:`${b.id_pedido}-${b.id_produto}-${Math.random()}`,qty:b.quantidade,price:b.preco_unitario,name:(j==null?void 0:j.nome_produto)||`Produto ${b.id_produto}`,image:(j==null?void 0:j.img)||null,date:(k==null?void 0:k.created_at)||null}});u&&r(E)}catch(h){console.error("Falha ao carregar histrico",h),u&&o(h.message||"Falha ao carregar histrico")}finally{u&&s(!1)}}return d(),()=>{u=!1}},[]);const a=S.useMemo(()=>e.slice().sort((u,d)=>{const h=u.date?new Date(u.date).getTime():0;return(d.date?new Date(d.date).getTime():0)-h}),[e]),l=S.useMemo(()=>{const u=a.reduce((d,h)=>{const f=Hw(h.date||"");return d[f]||(d[f]=[]),d[f].push(h),d},{});return Object.entries(u)},[a]);return c.jsxs("div",{className:"relative min-h-screen bg-white overflow-hidden",children:[c.jsx(wr,{className:"absolute inset-x-0 bottom-0 w-full h-64 md:h-80 lg:h-96 pointer-events-none select-none"}),c.jsx("header",{className:"relative bg-gradient-to-b from-blueTop to-[#5f88db] pt-8 pb-20 md:pt-10 md:pb-28 border-b border-black/20 shadow",children:c.jsxs("div",{className:"max-w-6xl mx-auto px-4 relative",children:[c.jsx("button",{"aria-label":"voltar",onClick:()=>t(-1),className:"absolute left-2 top-3 text-black/80",children:c.jsx("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsx("div",{className:"absolute right-2 top-2 bg-white rounded-md px-3 py-1 shadow border",children:c.jsx("img",{src:"/assets/Senac.png",alt:"Logo",className:"h-8"})}),c.jsx("div",{className:"flex justify-center",children:c.jsx("div",{className:"px-6 py-1.5 bg-white rounded-full shadow border text-[13px] tracking-wide",children:"HISTORICO DE COMPRAS"})})]})}),c.jsx("main",{className:"relative z-10 max-w-6xl mx-auto px-4 pt-10 pb-40",children:c.jsxs("section",{className:"bg-white rounded-3xl shadow-2xl ring-1 ring-black/5 px-6 sm:px-10 py-8",children:[n&&c.jsx("div",{className:"text-center text-gray-600 py-10",children:"Carregando..."}),i&&!n&&c.jsx("div",{className:"text-center text-red-600 py-10",children:i}),!n&&!i&&a.length===0&&c.jsx("div",{className:"text-center text-gray-600 py-10",children:"Voc ainda no possui compras registradas."}),!n&&!i&&l.map(([u,d])=>c.jsxs("div",{className:"mb-8 last:mb-0",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-blueTop"}),c.jsx("h2",{className:"text-sm font-semibold text-gray-600 tracking-wide uppercase",children:u}),c.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-blueTop/40 to-transparent"})]}),c.jsx("div",{className:"grid md:grid-cols-2 gap-5",children:d.map((h,f)=>c.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-gray-200 bg-white shadow-md p-4 md:p-5 hover:translate-y-0.5 transition-transform",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-9 h-9 rounded-full bg-blueTop/10 text-blueTop font-semibold flex items-center justify-center text-sm",children:h.qty}),c.jsx("div",{className:"w-16 h-16 rounded-xl bg-gray-100 overflow-hidden flex-shrink-0 border border-gray-100",children:h.image?c.jsx("img",{src:h.image,alt:h.name,className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs text-gray-400",children:"sem foto"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-base font-semibold text-gray-900 capitalize",children:h.name}),c.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:["Pedido #",h.id.split("-")[0]]})]})]}),c.jsx("div",{className:"text-right",children:c.jsx("div",{className:"text-lg font-semibold text-gray-900",children:Ti(h.price)})})]},`${h.id}-${f}`))})]},u))]})})]})}function Kw(){const t=it(),{items:e,removeItem:r,total:n,clearCart:s}=Yl(),[i,o]=S.useState(!1),[a,l]=S.useState(""),{isAdmin:u}=Yi(),d=async()=>{var h;if(!(!e.length||i))try{l(""),o(!0);const{data:f,error:v}=await F.auth.getUser();if(v)throw v;const w=f==null?void 0:f.user;if(!w)throw new Error("Faa login para finalizar o pedido.");const y=NaN,x=((h=e[0])==null?void 0:h.lanchoneteId)??(Number.isFinite(y)?y:null);if(!x)throw new Error("No foi possvel identificar a lanchonete do pedido. Adicione os itens novamente.");const{data:m,error:p}=await F.from("pedido").insert({id_lanchonete:x,id_user_cliente:w.id,status_pedido:"confirmado",valor_total:n}).select("id_pedido").single();if(p)throw p;const g=e.map(_=>{const E=Number(_.id);if(!Number.isFinite(E))throw new Error(`Produto "${_.name}" sem ID vlido para registrar.`);return{id_pedido:m.id_pedido,id_produto:E,quantidade:_.qty,preco_unitario:_.price}});if(g.length){const{error:_}=await F.from("itens_pedido").insert(g);if(_)throw _}s(),t("/success",{replace:!0})}catch(f){console.error("Falha ao registrar pedido",f),l(f.message||"Erro ao registrar pedido.")}finally{o(!1)}};return c.jsxs("div",{className:"relative min-h-screen bg-white flex flex-col overflow-hidden",children:[c.jsx("div",{className:"absolute inset-x-0 top-0 h-48 bg-gradient-to-b from-blueTop/40 to-transparent pointer-events-none"}),c.jsx("header",{className:"relative bg-gradient-to-b from-blueTop to-[#5f88db] pt-4 pb-8 border-b border-black/20 shadow",children:c.jsxs("div",{className:"max-w-6xl mx-auto px-4 relative",children:[c.jsx("button",{"aria-label":"voltar",onClick:()=>t(-1),className:"absolute left-2 top-3 text-black/80",children:c.jsx("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})})}),c.jsxs("div",{className:"flex items-center justify-center gap-3",children:[c.jsxs("button",{onClick:()=>t("/options"),className:"inline-flex items-center gap-2 px-4 py-2 bg-white rounded-full shadow border text-xs md:text-sm font-semibold tracking-wide",children:[c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M3 6h18v2H3V6zm0 5h18v2H3v-2zm0 5h12v2H3v-2z"})}),"LANCHONETES"]}),c.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white rounded-full shadow border text-xs md:text-sm font-semibold tracking-wide",children:[c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M7 18a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm10 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM3 4h2l3.6 7.59L7.25 14H19a1 1 0 0 0 0-2H9.42l.93-2H18a1 1 0 1 0 0-2H9L7.21 4H3z"})}),"CARRINHO"]}),c.jsxs("button",{onClick:()=>t("/perfil"),className:"inline-flex items-center gap-2 px-4 py-2 bg-white rounded-full shadow border text-xs md:text-sm font-semibold tracking-wide",children:[c.jsx(Vt,{size:16}),"PERFIL"]}),u&&c.jsxs("button",{onClick:()=>t("/admin"),className:"inline-flex items-center gap-2 px-4 py-2 bg-white rounded-full shadow border text-xs md:text-sm font-semibold tracking-wide",children:[c.jsx(Vt,{size:16}),"ADMINISTRAR"]})]}),c.jsx("div",{className:"absolute right-2 top-2 bg-white rounded-md px-3 py-1 shadow border",children:c.jsx("img",{src:"/assets/Senac.png",alt:"Logo",className:"h-8"})})]})}),c.jsx("main",{className:"flex-1 relative z-10",children:c.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-10",children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.map(h=>c.jsxs("div",{className:"flex items-center gap-4 rounded-2xl border border-gray-100 bg-white shadow-lg shadow-slate-200/50 p-4",children:[c.jsxs("div",{className:"relative w-20 h-16 rounded-xl bg-gray-100 overflow-hidden flex-shrink-0 border border-gray-200",children:[h.image?c.jsx("img",{src:h.image,alt:h.name,className:"w-full h-full object-cover"}):null,h.qty>1&&c.jsxs("span",{className:"absolute -top-2 -right-2 text-xs px-2 py-0.5 rounded-full bg-blueTop text-white shadow",children:["x",h.qty]})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-semibold text-gray-800",children:h.name}),c.jsxs("div",{className:"text-sm text-gray-600",children:[Ti(h.price),"  Qtd: ",h.qty]})]}),c.jsx("button",{onClick:()=>r(h.id),className:"w-8 h-8 rounded-full bg-red-500 text-white flex items-center justify-center shadow","aria-label":"remover",children:""})]},h.id)),e.length===0&&c.jsx("div",{className:"col-span-full text-center text-gray-600",children:"Seu carrinho est vazio."})]}),c.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[c.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-3 rounded-2xl border bg-white shadow text-sm",children:[c.jsx("span",{className:"text-gray-700",children:"total:"}),c.jsx("span",{className:"font-semibold",children:Ti(n)})]}),c.jsx("button",{disabled:!e.length||i,onClick:d,className:"px-6 py-2 rounded-md bg-accent text-black font-semibold border border-amber-700/40 shadow disabled:opacity-60",children:i?"ENVIANDO...":"CONFIRMAR"})]}),a&&c.jsx("div",{className:"mt-3 text-sm text-red-600",children:a})]})}),c.jsx("footer",{className:"h-24 bg-gradient-to-t from-blueTop to-[#5f88db]"})]})}function Gw(){const t=it();return c.jsxs("div",{className:"relative min-h-screen bg-white overflow-hidden",children:[c.jsx(wr,{className:"absolute inset-x-0 bottom-0 w-full h-56 md:h-72 lg:h-80 pointer-events-none select-none"}),c.jsx("div",{className:"absolute right-4 top-4 bg-white rounded-md px-3 py-1 shadow border",children:c.jsx("img",{src:"/assets/Senac.png",alt:"Logo",className:"h-8"})}),c.jsxs("div",{className:"relative z-10 max-w-2xl mx-auto px-4 pt-10 pb-28",children:[c.jsxs("div",{className:"flex items-center justify-center gap-4 mb-8",children:[c.jsx("h1",{className:"text-xl md:text-2xl font-semibold underline",children:"COMPRA FEITA"}),c.jsx("span",{className:"w-10 h-10 rounded-full bg-green-500 text-white flex items-center justify-center shadow",children:c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M20 6L9 17l-5-5"})})})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"rounded-xl border shadow p-4 text-center text-gray-800 bg-white",children:"compra realizada com sucesso"}),c.jsx("div",{className:"rounded-xl border shadow p-4 text-center text-gray-800 bg-white",children:"aguarde o seu pedido"})]}),c.jsx("div",{className:"mt-8 flex justify-center",children:c.jsx("button",{onClick:()=>t("/options"),className:"w-64 h-12 rounded-md bg-accent text-black font-semibold border border-amber-700/40 shadow",children:"VOLTAR"})})]})]})}function Jw({user:t,onClose:e,onDelete:r,deleting:n}){var s;return t?c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[c.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:e}),c.jsxs("div",{className:"relative z-10 w-full max-w-lg bg-white rounded-3xl shadow-2xl p-6 space-y-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Informaes do usurio"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gray-100 overflow-hidden",children:t.foto?c.jsx("img",{src:t.foto,alt:t.email,className:"w-full h-full object-cover"}):null}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),c.jsx("p",{className:"font-semibold text-gray-800",children:t.email}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Nome"}),c.jsx("p",{className:"font-semibold text-gray-800",children:t.nome||""})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-500",children:"Cidade"}),c.jsx("p",{className:"font-semibold text-gray-800",children:t.cidade||""})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-500",children:"Estado"}),c.jsx("p",{className:"font-semibold text-gray-800",children:t.estado||""})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-500",children:"Telefone"}),c.jsx("p",{className:"font-semibold text-gray-800",children:t.telefone||""})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-500",children:"Escola"}),c.jsx("p",{className:"font-semibold text-gray-800",children:((s=t.escola)==null?void 0:s.nome_escola)||"No definida"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsx("button",{onClick:e,className:"h-11 rounded-2xl bg-blueTop text-white font-semibold shadow",children:"Fechar"}),c.jsx("button",{disabled:n,onClick:()=>r==null?void 0:r(t),className:"h-11 rounded-2xl bg-black text-white font-semibold shadow disabled:opacity-60 disabled:cursor-not-allowed",children:n?"Excluindo...":"Deletar usurio"})]})]})]}):null}function Qw({user:t,escolas:e,loading:r,onClose:n,onSelect:s,assigningId:i}){return t?c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[c.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:n}),c.jsxs("div",{className:"relative z-10 w-full max-w-4xl bg-white rounded-3xl shadow-2xl p-6 space-y-5",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Aluno"}),c.jsx("p",{className:"font-semibold text-gray-800",children:t.email})]}),c.jsx("button",{onClick:n,className:"px-4 py-2 rounded-full border text-sm text-gray-600 bg-gray-50",children:"Fechar"})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full text-sm text-gray-700",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-blue-50 text-gray-800 text-xs uppercase tracking-wide",children:[c.jsx("th",{className:"px-3 py-3 text-left",children:"Escola"}),c.jsx("th",{className:"px-3 py-3 text-left",children:"Lanchonetes"}),c.jsx("th",{className:"px-3 py-3 text-left",children:"Confirmar"})]})}),c.jsxs("tbody",{children:[r&&c.jsx("tr",{children:c.jsx("td",{colSpan:3,className:"px-3 py-4 text-center text-gray-500",children:"Carregando escolas..."})}),!r&&!e.length&&c.jsx("tr",{children:c.jsx("td",{colSpan:3,className:"px-3 py-4 text-center text-gray-500",children:"Nenhuma escola cadastrada."})}),e.map(o=>c.jsxs("tr",{className:"border-t border-gray-200",children:[c.jsx("td",{className:"px-3 py-3 font-semibold text-gray-800",children:o.nome_escola||""}),c.jsx("td",{className:"px-3 py-3",children:o.lanchonete&&o.lanchonete.length?c.jsx("div",{className:"flex flex-wrap gap-2",children:o.lanchonete.map(a=>c.jsx("span",{className:"px-3 py-1 rounded-full bg-blue-50 text-blue-700 text-xs font-semibold border border-blue-100",children:a.nome_lanchonete},a.id_lanchonete))}):c.jsx("span",{className:"text-gray-500 text-sm",children:"Sem lanchonetes"})}),c.jsx("td",{className:"px-3 py-3",children:c.jsx("button",{disabled:i===o.id_escola,onClick:()=>s==null?void 0:s(t,o),className:"px-4 py-2 rounded-full bg-black text-white text-xs font-semibold shadow hover:brightness-110 disabled:opacity-60",children:i===o.id_escola?"Confirmando...":"Confirmar escola"})})]},o.id_escola))]})]})})]})]}):null}function Yw(){const t=it(),[e,r]=S.useState([]),[n,s]=S.useState(!0),[i,o]=S.useState(""),[a,l]=S.useState(null),[u,d]=S.useState(null),[h,f]=S.useState(null),[v,w]=S.useState([]),[y,x]=S.useState(!1),[m,p]=S.useState(null);S.useEffect(()=>{let b=!0;async function k(){try{s(!0),o("");const{data:j,error:O}=await F.from("perfil").select("id_user,email,nome,foto,id_escola,cidade,estado,telefone,adm,escola:escola(nome_escola)").order("email",{ascending:!0});if(O)throw O;if(b){const R=(j||[]).filter(z=>(z==null?void 0:z.adm)!==!0);r(R)}}catch(j){console.error("Falha ao carregar usurios",j),b&&o(j.message||"No foi possvel carregar usurios.")}finally{b&&s(!1)}}return k(),()=>{b=!1}},[]);const g=async b=>{if(!(!(b!=null&&b.id_user)||!window.confirm(`Deseja excluir o usurio ${b.email||""}?`)))try{d(b.id_user);const{error:j}=await F.from("perfil").delete().eq("id_user",b.id_user);if(j)throw j;r(O=>O.filter(R=>R.id_user!==b.id_user)),l(null)}catch(j){console.error("Falha ao deletar usurio",j),alert(j.message||"No foi possvel deletar o usurio.")}finally{d(null)}},_=async b=>{f(b);try{x(!0);const{data:k,error:j}=await F.from("escola").select("id_escola,nome_escola").order("nome_escola",{ascending:!0});if(j)throw j;const{data:O,error:R}=await F.from("lanchonete").select("id_lanchonete,nome_lanchonete,id_escola");if(R)throw R;const z=(k||[]).map(de=>({...de,lanchonete:(O||[]).filter(W=>W.id_escola===de.id_escola)}));w(z)}catch(k){console.error("Falha ao carregar escolas",k),alert(k.message||"No foi possvel carregar escolas.")}finally{x(!1)}},E=async(b,k)=>{if(!(!(b!=null&&b.id_user)||!(k!=null&&k.id_escola)))try{p(k.id_escola);const{error:j}=await F.from("perfil").update({id_escola:k.id_escola}).eq("id_user",b.id_user);if(j)throw j;r(O=>O.map(R=>R.id_user===b.id_user?{...R,id_escola:k.id_escola,escola:{nome_escola:k.nome_escola}}:R)),f(null)}catch(j){console.error("Falha ao atribuir escola",j),alert(j.message||"No foi possvel atribuir a escola.")}finally{p(null)}};return c.jsxs("div",{className:"relative min-h-screen bg-gradient-to-b from-blueTop/80 via-blue-50/60 to-white overflow-hidden",children:[c.jsx(wr,{className:"absolute inset-x-0 bottom-0 w-full h-56 md:h-72 lg:h-80 pointer-events-none select-none"}),c.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto pt-6 px-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("button",{onClick:()=>t(-1),className:"inline-flex items-center gap-2 bg-white rounded-full px-4 py-2 shadow border text-sm text-gray-600",children:[c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M15 18l-6-6 6-6"})}),"voltar"]}),c.jsx("h1",{className:"text-lg font-semibold text-gray-800",children:"Painel Administrativo"})]}),c.jsxs("div",{className:"mt-10 flex items-center justify-between text-sm",children:[c.jsx("span",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white shadow border",children:"ALUNOS"}),c.jsxs("button",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full border bg-white shadow text-sm text-gray-600",children:[c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M3 4h18v2H3V4zm3 7h12v2H6v-2zm3 7h6v2H9v-2z"})}),"Filtrar"]})]})]}),c.jsx("main",{className:"relative z-10 max-w-6xl mx-auto px-4 mt-6 pb-28",children:c.jsx("section",{className:"bg-white rounded-3xl shadow-2xl ring-1 ring-black/5 p-0 overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full text-sm text-gray-700",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-blue-50 text-gray-800 text-xs uppercase tracking-wide",children:[c.jsx("th",{className:"px-4 py-3 text-left",children:"Usurio"}),c.jsx("th",{className:"px-4 py-3 text-left",children:"Escola"}),c.jsx("th",{className:"px-4 py-3 text-left",children:"Informaes"})]})}),c.jsxs("tbody",{children:[n&&c.jsx("tr",{children:c.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-gray-500",children:"Carregando..."})}),i&&!n&&c.jsx("tr",{children:c.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-red-600",children:i})}),!n&&!e.length&&!i&&c.jsx("tr",{children:c.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-gray-500",children:"Nenhum usurio encontrado."})}),e.map(b=>{var k;return c.jsxs("tr",{className:"border-t border-gray-200",children:[c.jsx("td",{className:"px-4 py-4",children:b.email}),c.jsx("td",{className:"px-4 py-4",children:(k=b.escola)!=null&&k.nome_escola?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-semibold text-gray-800",children:b.escola.nome_escola}),c.jsx("button",{className:"text-blue-600 underline text-xs",onClick:()=>_(b),children:"Alterar"})]}):c.jsx("button",{className:"text-red-600 underline text-sm",onClick:()=>_(b),children:"Atribuir escola"})}),c.jsx("td",{className:"px-4 py-4",children:c.jsx("button",{onClick:()=>l(b),className:"px-4 py-2 rounded-full bg-white border shadow text-xs font-semibold",children:"Ver informaes"})})]},b.id_user)})]})]})})})}),c.jsx(Jw,{user:a,onClose:()=>l(null),onDelete:g,deleting:!!u}),c.jsx(Qw,{user:h,escolas:v,loading:y,onClose:()=>f(null),onSelect:E,assigningId:m})]})}function Xw(){return c.jsxs(qv,{children:[c.jsx(Re,{path:"/",element:c.jsx(mc,{})}),c.jsx(Re,{path:"/login",element:c.jsx(Ow,{})}),c.jsx(Re,{path:"/cadastro",element:c.jsx(Pw,{})}),c.jsx(Re,{path:"/options",element:c.jsx(Rw,{})}),c.jsx(Re,{path:"/sesc",element:c.jsx(zw,{})}),c.jsx(Re,{path:"/senac",element:c.jsx(Bw,{})}),c.jsx(Re,{path:"/perfil",element:c.jsx(Ww,{})}),c.jsx(Re,{path:"/historico",element:c.jsx(qw,{})}),c.jsx(Re,{path:"/cart",element:c.jsx(Kw,{})}),c.jsx(Re,{path:"/success",element:c.jsx(Gw,{})}),c.jsx(Re,{path:"/admin",element:c.jsx(Yw,{})}),c.jsx(Re,{path:"*",element:c.jsx(mc,{})})]})}const Zw=af(document.getElementById("root"));Zw.render(c.jsx(nd.StrictMode,{children:c.jsx(Zv,{children:c.jsx(Aw,{children:c.jsx(Xw,{})})})}));
